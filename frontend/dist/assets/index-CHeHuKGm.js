var sr=Object.defineProperty;var ar=(s,e,t)=>e in s?sr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Ke=(s,e,t)=>ar(s,typeof e!="symbol"?e+"":e,t);import{j as r,u as He,C as ht,F as nr,a as se,b as ae,g as qe,s as _e,c as ir}from"./forms-CxGeQH6p.js";import{a as lr,r as T,R as K,g as or}from"./vendor-CIP6LD3P.js";import{E as cr,C as Qe,D as dr,G as ur,P as xt,R as mr,S as pt,T as le,A as hr,M as ft,H as gt,a as Ze,b as Re,c as ue,U as me,L as xr,d as pr,e as fr,f as bt,g as gr,h as br,i as yt,j as he,k as vt,l as jt,m as wt,n as Pe,o as ze,p as yr,q as vr,r as jr,s as wr,t as Nr,X as kr,I as Sr,F as Nt,u as Fr,v as Cr,w as $r,x as et}from"./ui-BbShsuee.js";import{H as Tr,P as Er,u as _r,a as Or,b as Dr,R as Ar,c as Mr,C as qr,M as Rr,B as Pr,d as zr,e as Ir}from"./reactflow-BEsDPAaP.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var Ie={},tt=lr;Ie.createRoot=tt.createRoot,Ie.hydrateRoot=tt.hydrateRoot;const Lr=cr,Ur=({size:s=16,className:e=""})=>r.jsxs("svg",{width:s,height:s,className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"11",cy:"11",r:"8"}),r.jsx("path",{d:"m21 21-4.35-4.35"}),r.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"}),r.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"})]}),Br=({data:s,isConnectable:e})=>{const t=()=>{switch(s.type){case"schedule":return r.jsx(Qe,{size:16});case"webhook":return r.jsx(ur,{size:16});case"database":return r.jsx(dr,{size:16});default:return r.jsx(Qe,{size:16})}},a=()=>{switch(s.type){case"schedule":return"bg-green-100 border-green-300 text-green-800";case"webhook":return"bg-blue-100 border-blue-300 text-blue-800";case"database":return"bg-purple-100 border-purple-300 text-purple-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}};return r.jsxs("div",{className:`px-4 py-2 shadow-md rounded-md border-2 min-w-[150px] ${a()}`,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-2",children:t()}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:s.label}),s.description&&r.jsx("div",{className:"text-xs opacity-75",children:s.description})]})]}),r.jsx(Tr,{type:"source",position:Er.Right,id:"output",isConnectable:e,className:"w-3 h-3 bg-gray-400"})]})},Vr=({onSave:s,onAddNode:e,workflow:t})=>r.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:t.name}),t.description&&r.jsx("span",{className:"text-sm text-gray-500",children:t.description})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"relative inline-block text-left",children:r.jsxs("button",{onClick:()=>e("manual"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[r.jsx(xt,{size:16,className:"mr-2"}),"Add Node"]})}),r.jsxs("div",{className:"flex items-center space-x-1 border border-gray-300 rounded-md",children:[r.jsx("button",{className:"p-2 hover:bg-gray-50 rounded-l-md",title:"Zoom In",children:r.jsx(Ur,{size:16})}),r.jsx("button",{className:"p-2 hover:bg-gray-50",title:"Reset Zoom",children:r.jsx(mr,{size:16})})]}),r.jsxs("button",{onClick:s,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[r.jsx(pt,{size:16,className:"mr-2"}),"Save"]})]})]}),r.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>e("schedule"),className:"inline-flex items-center px-2 py-1 border border-green-300 text-xs font-medium rounded text-green-700 bg-green-50 hover:bg-green-100",children:"Schedule Trigger"}),r.jsx("button",{onClick:()=>e("webhook"),className:"inline-flex items-center px-2 py-1 border border-blue-300 text-xs font-medium rounded text-blue-700 bg-blue-50 hover:bg-blue-100",children:"Webhook Trigger"}),r.jsx("button",{onClick:()=>e("database"),className:"inline-flex items-center px-2 py-1 border border-purple-300 text-xs font-medium rounded text-purple-700 bg-purple-50 hover:bg-purple-100",children:"Database Trigger"})]})]}),Wr={trigger:Br},Hr=({workflow:s,onSave:e})=>{const t=T.useMemo(()=>s.nodes.map((m,b)=>{var f,g,N;return{id:m.id||`node-${b}`,type:m.type||"trigger",position:m.position||{x:100+b*200,y:100},data:{label:((f=m.data)==null?void 0:f.label)||m.label||"Node",type:((g=m.data)==null?void 0:g.type)||"manual",description:((N=m.data)==null?void 0:N.description)||m.description,...m.data}}}),[s.nodes]),a=T.useMemo(()=>s.edges.map((m,b)=>({id:m.id||`edge-${b}`,source:m.source||"",target:m.target||"",type:m.type||"default",data:m.data||{}})),[s.edges]),[n,i,l]=_r(t),[o,c,d]=Or(a),u=T.useCallback(m=>c(b=>Dr(m,b)),[c]),x=T.useCallback(()=>{console.log("Saving workflow:",{nodes:n,edges:o}),e()},[n,o,e]),p=T.useCallback(m=>{const b={id:`node-${n.length+1}`,type:"trigger",position:{x:Math.random()*400,y:Math.random()*400},data:{label:`New ${m}`,type:m,description:`A new ${m} node`}};i(f=>f.concat(b))},[n.length,i]);return s?r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx(Vr,{onSave:x,onAddNode:p,workflow:s}),r.jsx("div",{className:"flex-1",children:r.jsx(Ar,{children:r.jsxs(Mr,{nodes:n,edges:o,onNodesChange:l,onEdgesChange:d,onConnect:u,nodeTypes:Wr,fitView:!0,className:"bg-gray-50",children:[r.jsx(qr,{}),r.jsx(Rr,{nodeColor:m=>{var b;switch((b=m.data)==null?void 0:b.type){case"schedule":return"#10b981";case"webhook":return"#3b82f6";case"database":return"#8b5cf6";default:return"#6b7280"}},className:"bg-white border border-gray-200"}),r.jsx(Pr,{variant:"dots",gap:12,size:1})]})})}),r.jsx("div",{className:"bg-white border-t border-gray-200 px-4 py-2",children:r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[r.jsxs("div",{children:[s.name," - ",n.length," nodes, ",o.length," connections"]}),r.jsx("div",{className:"bg-yellow-100 text-yellow-700 px-2 py-1 rounded text-xs",children:"Simplified Mode - Some features disabled"})]})})]}):r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Workflow Selected"}),r.jsx("p",{className:"text-gray-600",children:"Please select or create a workflow to get started."})]})})},Zr=[{type:"text",label:"Text Input",icon:le,description:"Single line text input",category:"basic"},{type:"textarea",label:"Text Area",icon:hr,description:"Multi-line text input",category:"basic"},{type:"email",label:"Email",icon:ft,description:"Email address input with validation",category:"basic"},{type:"number",label:"Number",icon:gt,description:"Numeric input field",category:"basic"},{type:"select",label:"Dropdown",icon:Ze,description:"Single selection dropdown",category:"basic"},{type:"radio",label:"Radio Buttons",icon:Re,description:"Single choice from multiple options",category:"basic"},{type:"checkbox",label:"Checkboxes",icon:Re,description:"Multiple selections allowed",category:"basic"},{type:"date",label:"Date",icon:ue,description:"Date picker",category:"advanced"},{type:"datetime",label:"Date & Time",icon:ue,description:"Date and time picker",category:"advanced"},{type:"file",label:"File Upload",icon:me,description:"File upload field",category:"advanced"},{type:"url",label:"URL",icon:xr,description:"URL input with validation",category:"advanced"},{type:"phone",label:"Phone",icon:pr,description:"Phone number input",category:"advanced"},{type:"currency",label:"Currency",icon:fr,description:"Currency amount input",category:"advanced"},{type:"rating",label:"Rating",icon:bt,description:"Star rating widget",category:"special"},{type:"matrix",label:"Matrix",icon:gr,description:"Matrix/grid questions",category:"special"},{type:"signature",label:"Signature",icon:br,description:"Digital signature pad",category:"special"},{type:"location",label:"Location",icon:yt,description:"Location picker with map",category:"special"}],Gr=({definition:s,onSelect:e,onDragStart:t,onDragEnd:a})=>{const{type:n,label:i,icon:l,description:o}=s,c=u=>{u.dataTransfer.setData("field-type",n),u.dataTransfer.effectAllowed="copy",t==null||t()},d=()=>{a==null||a()};return r.jsx("div",{className:"group bg-white border border-gray-200 rounded-lg p-3 cursor-grab hover:border-gray-300 hover:shadow-sm transition-all duration-200 active:cursor-grabbing",draggable:!0,onDragStart:c,onDragEnd:d,onClick:e,role:"button",tabIndex:0,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:r.jsx(l,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:i}),r.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:o})]})]})})},Jr=({title:s,fields:e,expanded:t,onToggle:a,onFieldSelect:n,onDragStart:i,onDragEnd:l})=>r.jsxs("div",{className:"mb-4",children:[r.jsxs("button",{onClick:a,className:"w-full flex items-center justify-between p-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors text-left",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:s}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:e.length}),r.jsx(Ze,{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${t?"rotate-180":""}`})]})]}),t&&r.jsx("div",{className:"mt-2 space-y-2",children:e.map(o=>r.jsx(Gr,{definition:o,onSelect:()=>n(o.type),onDragStart:()=>i==null?void 0:i(o.type),onDragEnd:l},o.type))})]}),Yr=({onFieldSelect:s,onDragStart:e,onDragEnd:t})=>{const[a,n]=K.useState(new Set(["basic"])),i=d=>{const u=new Set(a);u.has(d)?u.delete(d):u.add(d),n(u)},l=Zr.reduce((d,u)=>(d[u.category]||(d[u.category]=[]),d[u.category].push(u),d),{}),o={basic:"Basic Fields",advanced:"Advanced Fields",special:"Special Fields"},c=["basic","advanced","special"];return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Field Library"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Drag fields to add them to your form"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.map(d=>r.jsx(Jr,{title:o[d],fields:l[d]||[],expanded:a.has(d),onToggle:()=>i(d),onFieldSelect:s,onDragStart:e,onDragEnd:t},d))}),r.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:r.jsx("div",{className:"text-xs text-gray-500 text-center",children:"💡 Tip: Drag fields to the form canvas or click to add"})})]})},Xr=({field:s,onChange:e,onDelete:t,onDuplicate:a})=>{var x,p,m,b,f,g,N,h,S;const n=w=>{const y={...s.validation,...w};e({validation:y})},i=w=>{e({options:w})},l=()=>{var y,j;const w={label:`Option ${(((y=s.options)==null?void 0:y.length)||0)+1}`,value:`option_${(((j=s.options)==null?void 0:j.length)||0)+1}`};i([...s.options||[],w])},o=w=>{const y=[...s.options||[]];y.splice(w,1),i(y)},c=(w,y)=>{const j=[...s.options||[]];j[w]={...j[w],...y},i(j)},d=["select","multiselect","radio","checkbox"].includes(s.type),u=!["checkbox","signature"].includes(s.type);return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(he,{className:"w-4 h-4 text-gray-600"}),r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Field Properties"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("button",{onClick:a,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Duplicate Field",children:r.jsx(vt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete Field",children:r.jsx(jt,{className:"w-4 h-4"})})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Field Label"}),r.jsx("input",{type:"text",value:s.label,onChange:w=>e({label:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Field Name (ID)"}),r.jsx("input",{type:"text",value:s.name,onChange:w=>e({name:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Placeholder Text"}),r.jsx("input",{type:"text",value:s.placeholder||"",onChange:w=>e({placeholder:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter placeholder text..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:s.description||"",onChange:w=>e({description:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",rows:2,placeholder:"Help text for this field..."})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"required",checked:s.required,onChange:w=>e({required:w.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"required",className:"ml-2 text-xs text-gray-700",children:"Required field"})]}),d&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Options"}),r.jsxs("button",{onClick:l,className:"inline-flex items-center px-2 py-1 text-xs text-blue-600 hover:text-blue-700",children:[r.jsx(xt,{className:"w-3 h-3 mr-1"}),"Add Option"]})]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:(s.options||[]).map((w,y)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:w.label,onChange:j=>c(y,{label:j.target.value,value:j.target.value.toLowerCase().replace(/\s+/g,"_")}),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs focus:ring-blue-500 focus:border-blue-500",placeholder:`Option ${y+1}`}),r.jsx("button",{onClick:()=>o(y),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:r.jsx(wt,{className:"w-3 h-3"})})]},y))}),(!s.options||s.options.length===0)&&r.jsx("div",{className:"text-xs text-gray-500 py-4 text-center border border-dashed border-gray-300 rounded",children:"No options added yet"})]}),u&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Validation Rules"}),r.jsxs("div",{className:"space-y-3",children:[(s.type==="text"||s.type==="textarea")&&r.jsx(r.Fragment,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Min Length"}),r.jsx("input",{type:"number",value:((x=s.validation)==null?void 0:x.minLength)||"",onChange:w=>n({minLength:w.target.value?parseInt(w.target.value):void 0}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-blue-500 focus:border-blue-500",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max Length"}),r.jsx("input",{type:"number",value:((p=s.validation)==null?void 0:p.maxLength)||"",onChange:w=>n({maxLength:w.target.value?parseInt(w.target.value):void 0}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-blue-500 focus:border-blue-500",min:"0"})]})]})}),s.type==="number"&&r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Minimum"}),r.jsx("input",{type:"number",value:((m=s.validation)==null?void 0:m.min)||"",onChange:w=>n({min:w.target.value?parseFloat(w.target.value):void 0}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Maximum"}),r.jsx("input",{type:"number",value:((b=s.validation)==null?void 0:b.max)||"",onChange:w=>n({max:w.target.value?parseFloat(w.target.value):void 0}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Pattern (Regex)"}),r.jsx("input",{type:"text",value:((f=s.validation)==null?void 0:f.pattern)||"",onChange:w=>n({pattern:w.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-blue-500 focus:border-blue-500",placeholder:"^[A-Z0-9]+$"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Custom Error Message"}),r.jsx("input",{type:"text",value:((g=s.validation)==null?void 0:g.errorMessage)||"",onChange:w=>n({errorMessage:w.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-blue-500 focus:border-blue-500",placeholder:"This field is invalid"})]})]})]}),s.type==="file"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"File Settings"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Accepted File Types"}),r.jsx("input",{type:"text",value:((N=s.validation)==null?void 0:N.pattern)||"",onChange:w=>n({pattern:w.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-blue-500 focus:border-blue-500",placeholder:".pdf,.doc,.docx"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max File Size (MB)"}),r.jsx("input",{type:"number",value:((h=s.validation)==null?void 0:h.max)||"",onChange:w=>n({max:w.target.value?parseFloat(w.target.value):void 0}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.1"})]})]})]}),s.type==="rating"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Rating Settings"}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Number of Stars"}),r.jsx("input",{type:"number",value:((S=s.validation)==null?void 0:S.max)||5,onChange:w=>n({max:w.target.value?parseInt(w.target.value):5}),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-blue-500 focus:border-blue-500",min:"1",max:"10"})]})})]})]})]})},Kr=({schema:s,showValidation:e=!1,interactive:t=!1,onSubmit:a})=>{const[n,i]=T.useState("idle"),[l,o]=T.useState(""),{register:c,handleSubmit:d,formState:{errors:u,isValid:x},watch:p,setValue:m}=He({mode:e?"onChange":"onSubmit"}),b=[...s.fields].sort((h,S)=>h.order-S.order),f=p(),g=async h=>{if(t){i("submitting");try{await new Promise(S=>setTimeout(S,1e3)),a&&a(h),i("success"),o(s.settings.confirmationMessage||"Form submitted successfully!")}catch{i("error"),o("Failed to submit form. Please try again.")}}},N=h=>{var j,F,k,v,D;const S=u[h.name],w=`field-${h.id}`;if(h.visibility){const $=f[h.visibility.field];if(!es($,h.visibility.operator,h.visibility.value))return null}const y={id:w,...c(h.name,{required:h.required?`${h.label} is required`:!1,minLength:(j=h.validation)!=null&&j.minLength?{value:h.validation.minLength,message:h.validation.errorMessage||`Minimum length is ${h.validation.minLength}`}:void 0,maxLength:(F=h.validation)!=null&&F.maxLength?{value:h.validation.maxLength,message:h.validation.errorMessage||`Maximum length is ${h.validation.maxLength}`}:void 0,min:(k=h.validation)!=null&&k.min?{value:h.validation.min,message:h.validation.errorMessage||`Minimum value is ${h.validation.min}`}:void 0,max:(v=h.validation)!=null&&v.max?{value:h.validation.max,message:h.validation.errorMessage||`Maximum value is ${h.validation.max}`}:void 0,pattern:(D=h.validation)!=null&&D.pattern?{value:new RegExp(h.validation.pattern),message:h.validation.errorMessage||"Invalid format"}:void 0}),className:`
        w-full px-3 py-2 border rounded-md transition-colors
        ${S?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}
        ${t?"focus:outline-none focus:ring-2":"bg-gray-50"}
      `,disabled:!t};return r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{htmlFor:w,className:"block text-sm font-medium text-gray-700 mb-1",children:[h.label,h.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),h.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h.description}),Qr(h,y,m),S&&r.jsxs("div",{className:"mt-1 flex items-center text-sm text-red-600",children:[r.jsx(ze,{className:"w-4 h-4 mr-1 flex-shrink-0"}),S.message]}),e&&!S&&f[h.name]&&r.jsxs("div",{className:"mt-1 flex items-center text-sm text-green-600",children:[r.jsx(Pe,{className:"w-4 h-4 mr-1 flex-shrink-0"}),"Valid"]})]},h.id)};return n==="success"?r.jsx("div",{className:"max-w-2xl mx-auto p-8",children:r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Pe,{className:"w-6 h-6 text-green-600"})}),r.jsx("h3",{className:"text-lg font-medium text-green-900 mb-2",children:"Form Submitted Successfully!"}),r.jsx("p",{className:"text-green-700",children:l})]})}):r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs("form",{onSubmit:d(g),className:"space-y-6",children:[r.jsxs("div",{className:"text-center pb-6 border-b border-gray-200",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),s.description&&r.jsx("p",{className:"text-gray-600 max-w-lg mx-auto",children:s.description})]}),s.settings.showProgressBar&&b.length>0&&r.jsx("div",{className:"bg-gray-200 rounded-full h-2 mb-6",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Object.keys(f).length/b.length*100}%`}})}),r.jsx("div",{className:"space-y-6",children:b.map(N)}),t&&r.jsx("div",{className:"pt-6",children:r.jsx("button",{type:"submit",disabled:n==="submitting"||e&&!x,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:n==="submitting"?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):s.settings.submitButtonText})}),n==="error"&&r.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:r.jsxs("div",{className:"flex items-center text-sm text-red-800",children:[r.jsx(ze,{className:"w-4 h-4 mr-2 flex-shrink-0"}),l]})})]})})},Qr=(s,e,t)=>{var l,o;const{type:a,options:n,placeholder:i}=s;switch(a){case"text":case"email":case"url":case"phone":return r.jsx("input",{...e,type:a==="phone"?"tel":a,placeholder:i});case"textarea":return r.jsx("textarea",{...e,rows:3,placeholder:i});case"number":case"currency":return r.jsx("input",{...e,type:"number",step:a==="currency"?"0.01":"any",placeholder:i});case"date":return r.jsx("input",{...e,type:"date"});case"datetime":return r.jsx("input",{...e,type:"datetime-local"});case"select":return r.jsxs("select",{...e,children:[r.jsx("option",{value:"",children:i||`Select ${s.label.toLowerCase()}...`}),n==null?void 0:n.map((c,d)=>r.jsx("option",{value:c.value,children:c.label},d))]});case"multiselect":return r.jsx("select",{...e,multiple:!0,size:Math.min((n==null?void 0:n.length)||3,5),children:n==null?void 0:n.map((c,d)=>r.jsx("option",{value:c.value,children:c.label},d))});case"radio":return r.jsx("div",{className:"space-y-2",children:n==null?void 0:n.map((c,d)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{...e,id:`${e.id}-${d}`,type:"radio",value:c.value,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),r.jsx("label",{htmlFor:`${e.id}-${d}`,className:"ml-2 text-sm text-gray-700",children:c.label})]},d))});case"checkbox":return r.jsx("div",{className:"space-y-2",children:n==null?void 0:n.map((c,d)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{...e,id:`${e.id}-${d}`,type:"checkbox",value:c.value,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:`${e.id}-${d}`,className:"ml-2 text-sm text-gray-700",children:c.label})]},d))});case"file":return r.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:r.jsxs("div",{className:"space-y-1 text-center",children:[r.jsx(me,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsxs("div",{className:"flex text-sm text-gray-600",children:[r.jsxs("label",{htmlFor:e.id,className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[r.jsx("span",{children:"Upload a file"}),r.jsx("input",{...e,type:"file",className:"sr-only"})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:((l=s.validation)==null?void 0:l.pattern)||"Any file type"})]})});case"rating":return r.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:((o=s.validation)==null?void 0:o.max)||5}).map((c,d)=>r.jsx("button",{type:"button",className:"text-gray-300 hover:text-yellow-400 transition-colors",onClick:()=>t(s.name,d+1),children:r.jsx(bt,{className:"w-6 h-6 fill-current"})},d))});case"signature":return r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:r.jsxs("div",{className:"text-gray-500",children:[r.jsx("div",{className:"mb-2",children:"✍️"}),r.jsx("p",{children:"Signature pad would appear here"})]})});case"location":return r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center p-3 border border-gray-300 rounded-md bg-gray-50",children:[r.jsx(yt,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Location picker would appear here"})]})});default:return r.jsx("input",{...e,type:"text",placeholder:i})}},es=(s,e,t)=>{switch(e){case"equals":return s===t;case"not_equals":return s!==t;case"contains":return String(s).includes(String(t));case"greater_than":return Number(s)>Number(t);case"less_than":return Number(s)<Number(t);default:return!0}},ts=({form:s})=>r.jsx("div",{className:"max-w-2xl mx-auto space-y-8",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Form Settings"}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"General"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(s.Field,{name:"settings.allowMultipleSubmissions",children:e=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"allowMultiple",type:"checkbox",checked:e.state.value,onChange:t=>e.handleChange(t.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"allowMultiple",className:"ml-2 text-sm text-gray-700",children:"Allow multiple submissions per user"})]})}),r.jsx(s.Field,{name:"settings.requireAuthentication",children:e=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"requireAuth",type:"checkbox",checked:e.state.value,onChange:t=>e.handleChange(t.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"requireAuth",className:"ml-2 text-sm text-gray-700",children:"Require user authentication"})]})}),r.jsx(s.Field,{name:"settings.showProgressBar",children:e=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"showProgress",type:"checkbox",checked:e.state.value,onChange:t=>e.handleChange(t.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"showProgress",className:"ml-2 text-sm text-gray-700",children:"Show progress bar"})]})}),r.jsx(s.Field,{name:"settings.savePartialResponses",children:e=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"savePartial",type:"checkbox",checked:e.state.value,onChange:t=>e.handleChange(t.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"savePartial",className:"ml-2 text-sm text-gray-700",children:"Save partial responses automatically"})]})})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Submission"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(s.Field,{name:"settings.submitButtonText",children:e=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submit Button Text"}),r.jsx("input",{type:"text",value:e.state.value,onChange:t=>e.handleChange(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Submit"})]})}),r.jsx(s.Field,{name:"settings.confirmationMessage",children:e=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmation Message"}),r.jsx("textarea",{value:e.state.value||"",onChange:t=>e.handleChange(t.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Thank you for your submission!"})]})}),r.jsx(s.Field,{name:"settings.redirectUrl",children:e=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Redirect URL (optional)"}),r.jsx("input",{type:"url",value:e.state.value||"",onChange:t=>e.handleChange(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/thank-you"})]})})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notifications"}),r.jsx(s.Field,{name:"settings.notificationEmails",children:e=>{var t;return r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification Emails"}),r.jsx("textarea",{value:((t=e.state.value)==null?void 0:t.join(`
`))||"",onChange:a=>e.handleChange(a.target.value.split(`
`).filter(n=>n.trim())),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:`admin@company.com
manager@company.com`}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter one email address per line"})]})}})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Localization"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(s.Field,{name:"settings.language",children:e=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),r.jsxs("select",{value:e.state.value,onChange:t=>e.handleChange(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"es",children:"Español"}),r.jsx("option",{value:"fr",children:"Français"}),r.jsx("option",{value:"de",children:"Deutsch"}),r.jsx("option",{value:"it",children:"Italiano"}),r.jsx("option",{value:"pt",children:"Português"})]})]})}),r.jsx(s.Field,{name:"settings.timezone",children:e=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),r.jsxs("select",{value:e.state.value,onChange:t=>e.handleChange(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"UTC",children:"UTC"}),r.jsx("option",{value:"America/New_York",children:"Eastern Time"}),r.jsx("option",{value:"America/Chicago",children:"Central Time"}),r.jsx("option",{value:"America/Denver",children:"Mountain Time"}),r.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),r.jsx("option",{value:"Europe/London",children:"London"}),r.jsx("option",{value:"Europe/Paris",children:"Paris"}),r.jsx("option",{value:"Asia/Tokyo",children:"Tokyo"})]})]})})]})]})]})}),rs=({initialSchema:s,onSave:e,onPreview:t})=>{const[a,n]=T.useState("builder"),[i,l]=T.useState(null),[,o]=T.useState(null),c=He({defaultValues:s||{id:crypto.randomUUID(),name:"New Form",title:"Untitled Form",description:"",version:"1.0.0",fields:[],sections:[],settings:{allowMultipleSubmissions:!1,requireAuthentication:!1,showProgressBar:!0,savePartialResponses:!0,submitButtonText:"Submit",language:"en",timezone:"UTC"},styling:{theme:"default",primaryColor:"#3b82f6",backgroundColor:"#ffffff",textColor:"#1f2937",font:"Inter"},createdAt:new Date,updatedAt:new Date,createdBy:"current-user"}}),d=c.watch(),u=d.fields||[],x=d.sections||[],p=T.useCallback((j,F)=>{const k={id:crypto.randomUUID(),type:j,name:`${j}_${Date.now()}`,label:ss(j),required:!1,order:u.length,section:F};c.setValue("fields",[...u,k])},[u,c]),m=T.useCallback((j,F)=>{const k=u.map(v=>v.id===j?{...v,...F}:v);c.setValue("fields",k)},[u,c]),b=T.useCallback(j=>{const F=u.filter(k=>k.id!==j);c.setValue("fields",F),(i==null?void 0:i.id)===j&&l(null)},[u,c,i]),f=T.useCallback(j=>{const F=u.find(v=>v.id===j);if(!F)return;const k={...F,id:crypto.randomUUID(),name:`${F.name}_copy`,label:`${F.label} (Copy)`,order:u.length};c.setValue("fields",[...u,k])},[u,c]),g=T.useCallback((j,F)=>{const k=Array.from(u),[v]=k.splice(j,1);k.splice(F,0,v);const D=k.map(($,M)=>({...$,order:M}));c.setValue("fields",D)},[u,c]),N=T.useCallback(j=>{const F={id:crypto.randomUUID(),title:j,order:x.length};return c.setValue("sections",[...x,F]),F.id},[x,c]),h=j=>{j.preventDefault();const F=j.dataTransfer.getData("field-type");F&&p(F)},S=j=>{j.preventDefault()},w=()=>{const j=c.getValues();e==null||e(j)},y=()=>{const j=c.getValues();t==null||t(j),n("preview")};return r.jsxs("div",{className:"h-full flex bg-gray-50",children:[a==="builder"&&r.jsx("div",{className:"w-64 bg-white border-r border-gray-200 overflow-y-auto",children:r.jsx(Yr,{onFieldSelect:p,onDragStart:j=>o(j),onDragEnd:()=>o(null)})}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(ht,{name:"title",control:c.control,render:({field:j})=>r.jsx("input",{value:j.value||"",onChange:j.onChange,onBlur:j.onBlur,className:"text-lg font-semibold bg-transparent border-none outline-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1",placeholder:"Form Title"})})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>n("builder"),className:`p-2 rounded-md transition-colors ${a==="builder"?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,title:"Builder",children:r.jsx(he,{className:"w-4 h-4"})}),r.jsx("button",{onClick:y,className:`p-2 rounded-md transition-colors ${a==="preview"?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,title:"Preview",children:r.jsx(yr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>n("settings"),className:`p-2 rounded-md transition-colors ${a==="settings"?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,title:"Settings",children:r.jsx(he,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>n("code"),className:`p-2 rounded-md transition-colors ${a==="code"?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,title:"View Code",children:r.jsx(vr,{className:"w-4 h-4"})}),r.jsx("div",{className:"h-6 w-px bg-gray-300"}),r.jsxs("button",{onClick:w,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700",children:[r.jsx(pt,{className:"w-4 h-4 mr-1.5"}),"Save"]}),r.jsxs("button",{onClick:y,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-50",children:[r.jsx(jr,{className:"w-4 h-4 mr-1.5"}),"Test"]})]})]})}),r.jsxs("div",{className:"flex-1 flex",children:[r.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",onDrop:h,onDragOver:S,children:[a==="builder"&&r.jsx(as,{fields:u,sections:x,selectedField:i,onFieldSelect:l,onFieldUpdate:m,onFieldDelete:b,onFieldDuplicate:f,onFieldReorder:g,onSectionAdd:N,form:c}),a==="preview"&&r.jsx(Kr,{schema:c.getValues(),showValidation:!0,interactive:!0}),a==="settings"&&r.jsx(ts,{form:c}),a==="code"&&r.jsx(is,{schema:c.getValues()})]}),a==="builder"&&i&&r.jsx("div",{className:"w-80 bg-white border-l border-gray-200 overflow-y-auto",children:r.jsx(Xr,{field:i,onChange:j=>m(i.id,j),onDelete:()=>b(i.id),onDuplicate:()=>f(i.id)})})]})]})]})};function ss(s){return{text:"Text Input",textarea:"Text Area",email:"Email",number:"Number",select:"Dropdown",multiselect:"Multiple Select",radio:"Radio Buttons",checkbox:"Checkboxes",date:"Date",datetime:"Date & Time",file:"File Upload",url:"URL",phone:"Phone Number",currency:"Currency",rating:"Rating",matrix:"Matrix",signature:"Signature",location:"Location"}[s]||"Field"}const as=({fields:s,selectedField:e,onFieldSelect:t,onFieldUpdate:a,onFieldDelete:n,onFieldDuplicate:i,form:l})=>{if(s.length===0)return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(he,{className:"w-8 h-8 text-blue-600"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start building your form"}),r.jsx("p",{className:"text-gray-600 max-w-sm",children:"Drag fields from the left panel or click the + button to add your first form field."})]})});const o=[...s].sort((c,d)=>c.order-d.order);return r.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[r.jsx(ht,{name:"description",control:l.control,render:({field:c})=>r.jsx("div",{children:r.jsx("textarea",{value:c.value||"",onChange:c.onChange,onBlur:c.onBlur,className:"w-full p-3 border border-gray-300 rounded-md resize-none",placeholder:"Form description (optional)",rows:2})})}),r.jsx("div",{className:"space-y-3",children:o.map(c=>r.jsx("div",{className:`
              p-4 border rounded-lg cursor-pointer transition-colors
              ${(e==null?void 0:e.id)===c.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}
            `,onClick:()=>t(c),children:r.jsx(ns,{field:c,isSelected:(e==null?void 0:e.id)===c.id,onUpdate:d=>a(c.id,d),onDelete:()=>n(c.id),onDuplicate:()=>i(c.id)})},c.id))})]})},ns=({field:s})=>r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.label,s.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[s.type.charAt(0).toUpperCase()+s.type.slice(1)," Field"]}),r.jsx("div",{className:"border border-gray-300 rounded px-3 py-2 bg-gray-50 text-gray-500",children:s.placeholder||`Enter ${s.label.toLowerCase()}...`}),s.description&&r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:s.description})]}),is=({schema:s})=>r.jsx("div",{className:"h-full",children:r.jsx("div",{className:"bg-gray-900 text-white p-4 rounded-lg h-full overflow-auto",children:r.jsx("pre",{className:"text-sm",children:JSON.stringify(s,null,2)})})}),ls=({size:s="md",className:e=""})=>{const t={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return r.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-blue-600 ${t[s]} ${e}`})},os=({initialSchema:s,onSave:e,onPreview:t})=>r.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Visual Form Builder"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[t&&r.jsx("button",{onClick:t,className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Preview"}),e&&r.jsx("button",{onClick:e,className:"px-3 py-2 text-sm bg-blue-600 text-white hover:bg-blue-700 rounded-md transition-colors",children:"Save"})]})]})}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ls,{size:"lg",className:"mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Visual Builder Under Maintenance"}),r.jsx("p",{className:"text-gray-600 mb-4 max-w-md",children:"The visual form builder is temporarily disabled while we resolve some technical issues. Please use the standard Form Builder for now."}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Temporary Bypass Active"}),r.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"This is a temporary placeholder to prevent build failures. The actual visual builder will be restored once technical issues are resolved."})]})]})}),s&&r.jsxs("div",{className:"text-left bg-white border border-gray-200 rounded-md p-4 max-w-md mx-auto",children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Schema Preview:"}),r.jsx("pre",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded overflow-auto max-h-32",children:JSON.stringify(s,null,2)})]})]})})]}),kt={},{useDebugValue:cs}=K,{useSyncExternalStoreWithSelector:ds}=Ir;let rt=!1;const us=s=>s;function ms(s,e=us,t){(kt?"bypass":void 0)!=="production"&&t&&!rt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),rt=!0);const a=ds(s.subscribe,s.getState,s.getServerState||s.getInitialState,e,t);return cs(a),a}const hs=s=>{(kt?"bypass":void 0)!=="production"&&typeof s!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof s=="function"?zr(s):s,t=(a,n)=>ms(e,a,n);return Object.assign(t,e),t},St=s=>hs,ve={BASE_URL:"/",DEV:!1,MODE:"bypass",PROD:!0,SSR:!1},Le=new Map,be=s=>{const e=Le.get(s);return e?Object.fromEntries(Object.entries(e.stores).map(([t,a])=>[t,a.getState()])):{}},xs=(s,e,t)=>{if(s===void 0)return{type:"untracked",connection:e.connect(t)};const a=Le.get(t.name);if(a)return{type:"tracked",store:s,...a};const n={connection:e.connect(t),stores:{}};return Le.set(t.name,n),{type:"tracked",store:s,...n}},ps=(s,e={})=>(t,a,n)=>{const{enabled:i,anonymousActionType:l,store:o,...c}=e;let d;try{d=(i??(ve?"bypass":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return(ve?"bypass":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),s(t,a,n);const{connection:u,...x}=xs(o,d,c);let p=!0;n.setState=(f,g,N)=>{const h=t(f,g);if(!p)return h;const S=N===void 0?{type:l||"anonymous"}:typeof N=="string"?{type:N}:N;return o===void 0?(u==null||u.send(S,a()),h):(u==null||u.send({...S,type:`${o}/${S.type}`},{...be(c.name),[o]:n.getState()}),h)};const m=(...f)=>{const g=p;p=!1,t(...f),p=g},b=s(n.setState,a,n);if(x.type==="untracked"?u==null||u.init(b):(x.stores[x.store]=n,u==null||u.init(Object.fromEntries(Object.entries(x.stores).map(([f,g])=>[f,f===x.store?b:g.getState()])))),n.dispatchFromDevtools&&typeof n.dispatch=="function"){let f=!1;const g=n.dispatch;n.dispatch=(...N)=>{(ve?"bypass":void 0)!=="production"&&N[0].type==="__setState"&&!f&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),f=!0),g(...N)}}return u.subscribe(f=>{var g;switch(f.type){case"ACTION":if(typeof f.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Oe(f.payload,N=>{if(N.type==="__setState"){if(o===void 0){m(N.state);return}Object.keys(N.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const h=N.state[o];if(h==null)return;JSON.stringify(n.getState())!==JSON.stringify(h)&&m(h);return}n.dispatchFromDevtools&&typeof n.dispatch=="function"&&n.dispatch(N)});case"DISPATCH":switch(f.payload.type){case"RESET":return m(b),o===void 0?u==null?void 0:u.init(n.getState()):u==null?void 0:u.init(be(c.name));case"COMMIT":if(o===void 0){u==null||u.init(n.getState());return}return u==null?void 0:u.init(be(c.name));case"ROLLBACK":return Oe(f.state,N=>{if(o===void 0){m(N),u==null||u.init(n.getState());return}m(N[o]),u==null||u.init(be(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Oe(f.state,N=>{if(o===void 0){m(N);return}JSON.stringify(n.getState())!==JSON.stringify(N[o])&&m(N[o])});case"IMPORT_STATE":{const{nextLiftedState:N}=f.payload,h=(g=N.computedStates.slice(-1)[0])==null?void 0:g.state;if(!h)return;m(o===void 0?h:h[o]),u==null||u.send(null,N);return}case"PAUSE_RECORDING":return p=!p}return}}),b},Ft=ps,Oe=(s,e)=>{let t;try{t=JSON.parse(s)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}t!==void 0&&e(t)};function fs(s,e){let t;try{t=s()}catch{return}return{getItem:n=>{var i;const l=c=>c===null?null:JSON.parse(c,void 0),o=(i=t.getItem(n))!=null?i:null;return o instanceof Promise?o.then(l):l(o)},setItem:(n,i)=>t.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>t.removeItem(n)}}const xe=s=>e=>{try{const t=s(e);return t instanceof Promise?t:{then(a){return xe(a)(t)},catch(a){return this}}}catch(t){return{then(a){return this},catch(a){return xe(a)(t)}}}},gs=(s,e)=>(t,a,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,N)=>({...N,...g}),...e},l=!1;const o=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return s((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...g)},a,n);const u=xe(i.serialize),x=()=>{const g=i.partialize({...a()});let N;const h=u({state:g,version:i.version}).then(S=>d.setItem(i.name,S)).catch(S=>{N=S});if(N)throw N;return h},p=n.setState;n.setState=(g,N)=>{p(g,N),x()};const m=s((...g)=>{t(...g),x()},a,n);let b;const f=()=>{var g;if(!d)return;l=!1,o.forEach(h=>h(a()));const N=((g=i.onRehydrateStorage)==null?void 0:g.call(i,a()))||void 0;return xe(d.getItem.bind(d))(i.name).then(h=>{if(h)return i.deserialize(h)}).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return i.migrate(h.state,h.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return h.state}).then(h=>{var S;return b=i.merge(h,(S=a())!=null?S:m),t(b,!0),x()}).then(()=>{N==null||N(b,void 0),l=!0,c.forEach(h=>h(b))}).catch(h=>{N==null||N(void 0,h)})};return n.persist={setOptions:g=>{i={...i,...g},g.getStorage&&(d=g.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>l,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},f(),b||m},bs=(s,e)=>(t,a,n)=>{let i={storage:fs(()=>localStorage),partialize:f=>f,version:0,merge:(f,g)=>({...g,...f}),...e},l=!1;const o=new Set,c=new Set;let d=i.storage;if(!d)return s((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...f)},a,n);const u=()=>{const f=i.partialize({...a()});return d.setItem(i.name,{state:f,version:i.version})},x=n.setState;n.setState=(f,g)=>{x(f,g),u()};const p=s((...f)=>{t(...f),u()},a,n);n.getInitialState=()=>p;let m;const b=()=>{var f,g;if(!d)return;l=!1,o.forEach(h=>{var S;return h((S=a())!=null?S:p)});const N=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(f=a())!=null?f:p))||void 0;return xe(d.getItem.bind(d))(i.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return[!0,i.migrate(h.state,h.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var S;const[w,y]=h;if(m=i.merge(y,(S=a())!=null?S:p),t(m,!0),w)return u()}).then(()=>{N==null||N(m,void 0),m=a(),l=!0,c.forEach(h=>h(m))}).catch(h=>{N==null||N(void 0,h)})};return n.persist={setOptions:f=>{i={...i,...f},f.storage&&(d=f.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>l,onHydrate:f=>(o.add(f),()=>{o.delete(f)}),onFinishHydration:f=>(c.add(f),()=>{c.delete(f)})},i.skipHydration||b(),m||p},ys=(s,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((ve?"bypass":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),gs(s,e)):bs(s,e),Ct=ys,vs=St()(Ft(Ct((s,e)=>({workflows:[],activeWorkflow:null,loading:!1,error:null,setWorkflows:t=>s({workflows:t}),setActiveWorkflow:t=>s({activeWorkflow:t}),createWorkflow:t=>{const a={...t,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date,status:"draft"};return s(n=>({workflows:[...n.workflows,a],activeWorkflow:a})),a},updateWorkflow:(t,a)=>{s(n=>{var i;return{workflows:n.workflows.map(l=>l.id===t?{...l,...a,updatedAt:new Date}:l),activeWorkflow:((i=n.activeWorkflow)==null?void 0:i.id)===t?{...n.activeWorkflow,...a,updatedAt:new Date}:n.activeWorkflow}})},deleteWorkflow:t=>{s(a=>{var n;return{workflows:a.workflows.filter(i=>i.id!==t),activeWorkflow:((n=a.activeWorkflow)==null?void 0:n.id)===t?null:a.activeWorkflow}})},addNode:(t,a)=>{s(n=>{var i;return{workflows:n.workflows.map(l=>l.id===t?{...l,nodes:[...l.nodes,a],updatedAt:new Date}:l),activeWorkflow:((i=n.activeWorkflow)==null?void 0:i.id)===t?{...n.activeWorkflow,nodes:[...n.activeWorkflow.nodes,a],updatedAt:new Date}:n.activeWorkflow}})},removeNode:(t,a)=>{s(n=>{var i;return{workflows:n.workflows.map(l=>l.id===t?{...l,nodes:l.nodes.filter(o=>o.id!==a),edges:l.edges.filter(o=>o.source!==a&&o.target!==a),updatedAt:new Date}:l),activeWorkflow:((i=n.activeWorkflow)==null?void 0:i.id)===t?{...n.activeWorkflow,nodes:n.activeWorkflow.nodes.filter(l=>l.id!==a),edges:n.activeWorkflow.edges.filter(l=>l.source!==a&&l.target!==a),updatedAt:new Date}:n.activeWorkflow}})},updateNode:(t,a,n)=>{s(i=>{var l;return{workflows:i.workflows.map(o=>o.id===t?{...o,nodes:o.nodes.map(c=>c.id===a?{...c,...n}:c),updatedAt:new Date}:o),activeWorkflow:((l=i.activeWorkflow)==null?void 0:l.id)===t?{...i.activeWorkflow,nodes:i.activeWorkflow.nodes.map(o=>o.id===a?{...o,...n}:o),updatedAt:new Date}:i.activeWorkflow}})},updateNodeConfig:(t,a,n)=>{var l,o;const i=(o=(l=e().activeWorkflow)==null?void 0:l.nodes.find(c=>c.id===a))==null?void 0:o.data;e().updateNode(t,a,{data:{label:(i==null?void 0:i.label)||"Node",...i,config:n}})},addEdge:(t,a)=>{s(n=>{var i;return{workflows:n.workflows.map(l=>l.id===t?{...l,edges:[...l.edges,a],updatedAt:new Date}:l),activeWorkflow:((i=n.activeWorkflow)==null?void 0:i.id)===t?{...n.activeWorkflow,edges:[...n.activeWorkflow.edges,a],updatedAt:new Date}:n.activeWorkflow}})},removeEdge:(t,a)=>{s(n=>{var i;return{workflows:n.workflows.map(l=>l.id===t?{...l,edges:l.edges.filter(o=>o.id!==a),updatedAt:new Date}:l),activeWorkflow:((i=n.activeWorkflow)==null?void 0:i.id)===t?{...n.activeWorkflow,edges:n.activeWorkflow.edges.filter(l=>l.id!==a),updatedAt:new Date}:n.activeWorkflow}})},updateEdge:(t,a,n)=>{s(i=>{var l;return{workflows:i.workflows.map(o=>o.id===t?{...o,edges:o.edges.map(c=>c.id===a?{...c,...n}:c),updatedAt:new Date}:o),activeWorkflow:((l=i.activeWorkflow)==null?void 0:l.id)===t?{...i.activeWorkflow,edges:i.activeWorkflow.edges.map(o=>o.id===a?{...o,...n}:o),updatedAt:new Date}:i.activeWorkflow}})},setLoading:t=>s({loading:t}),setError:t=>s({error:t}),clearError:()=>s({error:null})}),{name:"workflow-store",partialize:s=>({workflows:s.workflows,activeWorkflow:s.activeWorkflow})}),{name:"workflow-store"})),js=St()(Ft(Ct(s=>({forms:[],activeForm:null,loading:!1,error:null,setForms:e=>s({forms:e}),setActiveForm:e=>s({activeForm:e}),createForm:e=>{const t={...e,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date};return s(a=>({forms:[...a.forms,t],activeForm:t})),t},updateForm:(e,t)=>{s(a=>{var n;return{forms:a.forms.map(i=>i.id===e?{...i,...t,updatedAt:new Date}:i),activeForm:((n=a.activeForm)==null?void 0:n.id)===e?{...a.activeForm,...t,updatedAt:new Date}:a.activeForm}})},deleteForm:e=>{s(t=>{var a;return{forms:t.forms.filter(n=>n.id!==e),activeForm:((a=t.activeForm)==null?void 0:a.id)===e?null:t.activeForm}})},setLoading:e=>s({loading:e}),setError:e=>s({error:e}),clearError:()=>s({error:null})}),{name:"form-store",partialize:s=>({forms:s.forms,activeForm:s.activeForm})}),{name:"form-store"}));function $t(s){var e,t,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var n=s.length;for(e=0;e<n;e++)s[e]&&(t=$t(s[e]))&&(a&&(a+=" "),a+=t)}else for(t in s)s[t]&&(a&&(a+=" "),a+=t);return a}function _(){for(var s,e,t=0,a="",n=arguments.length;t<n;t++)(s=arguments[t])&&(e=$t(s))&&(a&&(a+=" "),a+=e);return a}const X=({children:s,variant:e="primary",size:t="md",loading:a=!1,leftIcon:n,rightIcon:i,fullWidth:l=!1,disabled:o,className:c,...d})=>{const u=_("inline-flex items-center justify-center font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",l&&"w-full"),x={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},p={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return r.jsxs("button",{className:_(u,x[e],p[t],c),disabled:o||a,...d,children:[a&&r.jsx(wr,{className:"w-4 h-4 mr-2 animate-spin"}),!a&&n&&r.jsx("span",{className:"mr-2",children:n}),s,!a&&i&&r.jsx("span",{className:"ml-2",children:i})]})},Tt=T.forwardRef(({label:s,error:e,helpText:t,leftIcon:a,rightIcon:n,fullWidth:i=!1,className:l,id:o,...c},d)=>{const u=o||`input-${Math.random().toString(36).substr(2,9)}`;return r.jsxs("div",{className:_("space-y-1",i&&"w-full"),children:[s&&r.jsxs("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700",children:[s,c.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[a&&r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400",children:a})}),r.jsx("input",{ref:d,id:u,className:_("block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm transition-colors","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",e&&"border-red-300 focus:border-red-500 focus:ring-red-500",a&&"pl-10",n&&"pr-10","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",l),...c}),n&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400",children:n})})]}),e&&r.jsx("p",{className:"text-sm text-red-600",children:e}),t&&!e&&r.jsx("p",{className:"text-sm text-gray-500",children:t})]})});Tt.displayName="Input";const Et=T.forwardRef(({label:s,error:e,helpText:t,options:a,placeholder:n,fullWidth:i=!1,size:l="md",loading:o=!1,clearable:c=!1,onClear:d,className:u,id:x,value:p,...m},b)=>{const f=x||`select-${Math.random().toString(36).substr(2,9)}`,g=a.reduce((S,w)=>{const y=w.group||"default";return S[y]||(S[y]=[]),S[y].push(w),S},{}),N={sm:"px-2 py-1 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},h=S=>{S.stopPropagation(),d==null||d()};return r.jsxs("div",{className:_("space-y-1",i&&"w-full"),children:[s&&r.jsxs("label",{htmlFor:f,className:"block text-sm font-medium text-gray-700",children:[s,m.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{ref:b,id:f,value:p,className:_("block w-full border border-gray-300 rounded-md shadow-sm transition-colors appearance-none","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500","bg-white pr-10",e&&"border-red-300 focus:border-red-500 focus:ring-red-500","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",o&&"opacity-50 cursor-wait",N[l],u),disabled:o||m.disabled,"aria-describedby":e?`${f}-error`:t?`${f}-help`:void 0,"aria-invalid":!!e,...m,children:[n&&r.jsx("option",{value:"",disabled:!0,children:n}),Object.keys(g).map(S=>{const w=g[S];return S==="default"?w.map(y=>r.jsx("option",{value:y.value,disabled:y.disabled,children:y.label},y.value)):r.jsx("optgroup",{label:S,children:w.map(y=>r.jsx("option",{value:y.value,disabled:y.disabled,children:y.label},y.value))},S)})]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:o?r.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"}):r.jsx(Ze,{className:"w-4 h-4 text-gray-400"})}),c&&p&&!o&&r.jsx("button",{type:"button",onClick:h,className:"absolute inset-y-0 right-8 flex items-center pr-2 pointer-events-auto hover:text-gray-600","aria-label":"Clear selection",children:r.jsx("span",{className:"text-gray-400 text-lg",children:"×"})})]}),e&&r.jsx("p",{id:`${f}-error`,className:"text-sm text-red-600",role:"alert",children:e}),t&&!e&&r.jsx("p",{id:`${f}-help`,className:"text-sm text-gray-500",children:t})]})});Et.displayName="Select";const _t=T.forwardRef(({label:s,error:e,helpText:t,fullWidth:a=!1,resize:n="vertical",autoResize:i=!1,minRows:l=3,maxRows:o=10,showCharacterCount:c=!1,maxLength:d,className:u,id:x,value:p,onChange:m,...b},f)=>{const g=x||`textarea-${Math.random().toString(36).substr(2,9)}`,N=T.useRef(null),h=f||N,[S,w]=T.useState(0);T.useEffect(()=>{typeof p=="string"&&w(p.length)},[p]);const y=F=>{const k=F.target.value;if(w(k.length),i&&h.current){const v=h.current;v.style.height="auto";const D=v.scrollHeight,$=parseInt(window.getComputedStyle(v).lineHeight),M=l*$,U=o*$;v.style.height=`${Math.min(Math.max(D,M),U)}px`}m==null||m(F)};T.useEffect(()=>{if(i&&h.current&&typeof p=="string"){const F=h.current;F.style.height="auto";const k=F.scrollHeight,v=parseInt(window.getComputedStyle(F).lineHeight),D=l*v,$=o*v;F.style.height=`${Math.min(Math.max(k,D),$)}px`}},[i,l,o,p]);const j={none:"resize-none",vertical:"resize-y",horizontal:"resize-x",both:"resize"};return r.jsxs("div",{className:_("space-y-1",a&&"w-full"),children:[s&&r.jsxs("label",{htmlFor:g,className:"block text-sm font-medium text-gray-700",children:[s,b.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("div",{className:"relative",children:r.jsx("textarea",{ref:h,id:g,value:p,onChange:y,maxLength:d,rows:i?l:b.rows||3,className:_("block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm transition-colors","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",e&&"border-red-300 focus:border-red-500 focus:ring-red-500","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",j[n],u),"aria-describedby":e?`${g}-error`:t?`${g}-help`:c?`${g}-count`:void 0,"aria-invalid":!!e,...b})}),r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[e&&r.jsx("p",{id:`${g}-error`,className:"text-sm text-red-600",role:"alert",children:e}),t&&!e&&r.jsx("p",{id:`${g}-help`,className:"text-sm text-gray-500",children:t})]}),c&&r.jsxs("p",{id:`${g}-count`,className:_("text-xs ml-2 mt-0.5",d&&S>d*.9?"text-orange-600":d&&S===d?"text-red-600":"text-gray-500"),"aria-live":"polite",children:[S,d&&`/${d}`]})]})]})});_t.displayName="Textarea";const Ot=T.forwardRef(({label:s,description:e,error:t,size:a="md",indeterminate:n=!1,variant:i="default",className:l,id:o,disabled:c,checked:d,...u},x)=>{const p=o||`checkbox-${Math.random().toString(36).substr(2,9)}`,m={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},b={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return i==="switch"?r.jsxs("div",{className:_("flex items-start",l),children:[r.jsxs("div",{className:"flex items-center h-5",children:[r.jsxs("button",{type:"button",role:"switch","aria-checked":d,"aria-describedby":t?`${p}-error`:e?`${p}-desc`:void 0,disabled:c,onClick:()=>{var g;const f=new Event("change",{bubbles:!0});Object.defineProperty(f,"target",{writable:!1,value:{checked:!d,...u}}),(g=u.onChange)==null||g.call(u,f)},className:_("relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",d?"bg-blue-600":"bg-gray-200",c&&"opacity-50 cursor-not-allowed"),children:[r.jsx("span",{className:"sr-only",children:s||"Toggle"}),r.jsx("span",{className:_("pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200",d?"translate-x-5":"translate-x-0")})]}),r.jsx("input",{ref:x,type:"checkbox",id:p,checked:d,disabled:c,className:"sr-only","aria-hidden":"true",tabIndex:-1,...u})]}),(s||e)&&r.jsxs("div",{className:"ml-3",children:[s&&r.jsxs("label",{htmlFor:p,className:"text-sm font-medium text-gray-700 cursor-pointer",children:[s,u.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e&&r.jsx("p",{id:`${p}-desc`,className:"text-sm text-gray-500",children:e})]}),t&&r.jsx("p",{id:`${p}-error`,className:"text-sm text-red-600 mt-1",role:"alert",children:t})]}):r.jsxs("div",{className:_("flex items-start",l),children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:x,type:"checkbox",id:p,checked:d,disabled:c,className:_("border border-gray-300 rounded transition-colors cursor-pointer","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","checked:bg-blue-600 checked:border-blue-600",t&&"border-red-300 focus:border-red-500 focus:ring-red-500","disabled:opacity-50 disabled:cursor-not-allowed",m[a]),"aria-describedby":t?`${p}-error`:e?`${p}-desc`:void 0,"aria-invalid":!!t,...u}),r.jsx("div",{className:_("absolute inset-0 flex items-center justify-center pointer-events-none",d||n?"text-white":"text-transparent"),children:n?r.jsx(wt,{className:b[a]}):r.jsx(Pe,{className:b[a],strokeWidth:3})})]})}),(s||e)&&r.jsxs("div",{className:"ml-3",children:[s&&r.jsxs("label",{htmlFor:p,className:"text-sm font-medium text-gray-700 cursor-pointer",children:[s,u.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e&&r.jsx("p",{id:`${p}-desc`,className:"text-sm text-gray-500",children:e})]}),t&&r.jsx("p",{id:`${p}-error`,className:"text-sm text-red-600 mt-1",role:"alert",children:t})]})});Ot.displayName="Checkbox";const Dt=T.createContext(void 0),At=T.forwardRef(({name:s,value:e,onChange:t,options:a=[],label:n,description:i,error:l,disabled:o=!1,orientation:c="vertical",size:d="md",className:u,children:x},p)=>{const m=`radio-group-${Math.random().toString(36).substr(2,9)}`;return r.jsxs("fieldset",{ref:p,className:_("space-y-2",u),children:[n&&r.jsx("legend",{className:"text-sm font-medium text-gray-700",children:n}),i&&r.jsx("p",{className:"text-sm text-gray-500",children:i}),r.jsx(Dt.Provider,{value:{name:s,value:e,onChange:t,disabled:o,error:l,size:d},children:r.jsx("div",{className:_("space-y-2",c==="horizontal"&&"flex flex-wrap gap-6 space-y-0"),children:x||a.map(b=>r.jsx(Mt,{value:b.value,disabled:b.disabled,label:b.label,description:b.description},b.value))})}),l&&r.jsx("p",{id:`${m}-error`,className:"text-sm text-red-600",role:"alert",children:l})]})});At.displayName="RadioGroup";const Mt=T.forwardRef(({value:s,label:e,description:t,disabled:a,className:n,id:i,...l},o)=>{const c=T.useContext(Dt);if(!c)throw new Error("Radio must be used within a RadioGroup");const{name:d,value:u,onChange:x,disabled:p,size:m}=c,b=i||`radio-${d}-${s}`,f=u===s,g=a||p,N={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},h=()=>{g||x(s)};return r.jsxs("div",{className:_("flex items-start",n),children:[r.jsxs("div",{className:"flex items-center h-5",children:[r.jsx("input",{ref:o,type:"radio",id:b,name:d,value:s,checked:f,disabled:g,onChange:h,className:_("border border-gray-300 rounded-full transition-colors cursor-pointer","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","checked:bg-blue-600 checked:border-blue-600","disabled:opacity-50 disabled:cursor-not-allowed",N[m]),"aria-describedby":t?`${b}-desc`:void 0,...l}),r.jsx("div",{className:_("absolute pointer-events-none",N[m],"flex items-center justify-center"),children:r.jsx("div",{className:_("rounded-full bg-white transition-opacity",f?"opacity-100":"opacity-0",m==="sm"?"w-1.5 h-1.5":m==="md"?"w-2 h-2":"w-2.5 h-2.5")})})]}),(e||t)&&r.jsxs("div",{className:"ml-3",children:[e&&r.jsx("label",{htmlFor:b,className:"text-sm font-medium text-gray-700 cursor-pointer",children:e}),t&&r.jsx("p",{id:`${b}-desc`,className:"text-sm text-gray-500",children:t})]})]})});Mt.displayName="Radio";const ws=({label:s,description:e,error:t,accept:a,multiple:n=!1,maxSize:i=10*1024*1024,maxFiles:l=n?10:1,disabled:o=!1,value:c=[],onChange:d,onUpload:u,className:x,showPreview:p=!0,dragDropArea:m=!0})=>{const b=T.useRef(null),[f,g]=T.useState(!1),N=C=>i&&C.size>i?`File size must be less than ${M(i)}`:a&&!a.split(",").map(q=>q.trim()).some(q=>q.startsWith(".")?C.name.toLowerCase().endsWith(q.toLowerCase()):C.type.match(q.replace("*",".*")))?`File type not supported. Accepted types: ${a}`:null,h=C=>{const O=N(C);return{id:Math.random().toString(36).substr(2,9),file:C,progress:0,status:O?"error":"pending",error:O||void 0}},S=T.useCallback(async C=>{const O=Array.from(C),z=l-c.length,Z=O.slice(0,z).map(h),B=[...c,...Z];if(d==null||d(B),u)for(const ge of Z)ge.status==="pending"&&await w(ge,B)},[c,d,u,l]),w=async(C,O)=>{const z=q=>{const Z=O.map(B=>B.id===C.id?{...B,...q}:B);d==null||d(Z),O=Z};try{z({status:"uploading",progress:0});const q=setInterval(()=>{const B=O.find(ge=>ge.id===C.id);B&&B.status==="uploading"&&B.progress<90&&z({progress:B.progress+10})},100),Z=await u(C.file);clearInterval(q),"error"in Z?z({status:"error",error:Z.error,progress:0}):z({status:"success",url:Z.url,progress:100})}catch(q){z({status:"error",error:q instanceof Error?q.message:"Upload failed",progress:0})}},y=C=>{const O=c.filter(z=>z.id!==C);d==null||d(O)},j=async C=>{const O=c.find(z=>z.id===C);O&&u&&await w(O,c)},F=C=>{C.preventDefault(),o||g(!0)},k=C=>{C.preventDefault(),g(!1)},v=C=>{if(C.preventDefault(),g(!1),o)return;const O=C.dataTransfer.files;O.length>0&&S(O)},D=C=>{const O=C.target.files;O&&O.length>0&&S(O),b.current&&(b.current.value="")},$=()=>{var C;o||(C=b.current)==null||C.click()},M=C=>{if(C===0)return"0 Bytes";const O=1024,z=["Bytes","KB","MB","GB"],q=Math.floor(Math.log(C)/Math.log(O));return parseFloat((C/Math.pow(O,q)).toFixed(2))+" "+z[q]},U=C=>C.type.startsWith("image/")?r.jsx(Sr,{className:"w-5 h-5"}):r.jsx(Nt,{className:"w-5 h-5"}),P=c.length<l;return r.jsxs("div",{className:_("space-y-3",x),children:[s&&r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:s}),e&&r.jsx("p",{className:"text-sm text-gray-500",children:e}),P&&m&&r.jsx("div",{onDragOver:F,onDragLeave:k,onDrop:v,onClick:$,className:_("relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer",f?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400",o&&"opacity-50 cursor-not-allowed",t&&"border-red-300"),role:"button",tabIndex:0,"aria-label":"Upload files",onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),$())},children:r.jsxs("div",{className:"text-center",children:[r.jsx(me,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Drop files here or"," ",r.jsx("span",{className:"text-blue-600 font-medium",children:"browse"})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a&&`Accepted types: ${a}`,i&&` • Max size: ${M(i)}`,n&&` • Max files: ${l}`]})]})]})}),(!m||!P)&&P&&r.jsx(X,{type:"button",variant:"outline",onClick:$,disabled:o,leftIcon:r.jsx(me,{className:"w-4 h-4"}),children:"Choose Files"}),r.jsx("input",{ref:b,type:"file",accept:a,multiple:n,onChange:D,className:"sr-only","aria-hidden":"true",disabled:o}),c.length>0&&p&&r.jsx("div",{className:"space-y-2",children:c.map(C=>r.jsx(Ns,{uploadFile:C,onRemove:()=>y(C.id),onRetry:()=>j(C.id),formatFileSize:M,getFile:U},C.id))}),t&&r.jsx("p",{className:"text-sm text-red-600",role:"alert",children:t}),l>1&&r.jsxs("p",{className:"text-xs text-gray-500",children:[c.length," of ",l," files selected"]})]})},Ns=({uploadFile:s,onRemove:e,onRetry:t,formatFileSize:a,getFile:n})=>{const{file:i,progress:l,status:o,error:c,url:d}=s;return r.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0 text-gray-400",children:n(i)}),r.jsxs("div",{className:"flex-1 ml-3 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i.name}),r.jsxs("div",{className:"flex items-center space-x-2",children:[o==="success"&&r.jsx(Nr,{className:"w-5 h-5 text-green-500"}),o==="error"&&r.jsx(ze,{className:"w-5 h-5 text-red-500"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600","aria-label":"Remove file",children:r.jsx(kr,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx("p",{className:"text-xs text-gray-500",children:a(i.size)}),d&&r.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-xs text-blue-600 hover:text-blue-800",children:"View"})]}),o==="uploading"&&r.jsxs("div",{className:"mt-2",children:[r.jsx("div",{className:"bg-gray-200 rounded-full h-2 relative overflow-hidden",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 relative",style:{width:`${l}%`},children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20 animate-pulse"})})}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("p",{className:"text-xs text-gray-500",children:["Uploading... ",l,"%"]}),r.jsx("p",{className:"text-xs text-gray-400",children:a(i.size)})]})]}),o==="error"&&c&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-xs text-red-600",children:c}),r.jsx(X,{size:"sm",variant:"ghost",onClick:t,className:"mt-1 p-0 h-auto text-xs",children:"Retry"})]})]})]})},qt=T.createContext(void 0),ks=()=>{const s=T.useContext(qt);if(!s)throw new Error("Form components must be used within a Form");return s};function Ss({form:s,onSubmit:e,children:t,className:a,layout:n="vertical",columns:i=1,spacing:l="normal",disabled:o=!1,noValidate:c=!0,...d}){const{formState:u,handleSubmit:x}=s,{isSubmitting:p,isValid:m,errors:b}=u,g={vertical:{compact:"space-y-3",normal:"space-y-4",comfortable:"space-y-6"}[l],horizontal:"space-y-4",grid:_("grid gap-4",i===1&&"grid-cols-1",i===2&&"grid-cols-1 md:grid-cols-2",i===3&&"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",i===4&&"grid-cols-1 md:grid-cols-2 lg:grid-cols-4")};return r.jsx(nr,{...s,children:r.jsx(qt.Provider,{value:{isLoading:p,isValid:m,errors:b},children:r.jsx("form",{onSubmit:x(e),noValidate:c,className:_(g[n],a),...d,children:r.jsx("fieldset",{disabled:o||p,className:"contents",children:t})})})})}const Fs=({title:s,description:e,children:t,className:a,collapsible:n=!1,defaultCollapsed:i=!1})=>{const[l,o]=K.useState(i);return r.jsxs("div",{className:_("border border-gray-200 rounded-lg",a),children:[(s||e)&&r.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[s&&r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:s}),e&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e})]}),n&&r.jsx("button",{type:"button",onClick:()=>o(!l),className:"text-gray-400 hover:text-gray-600","aria-label":l?"Expand section":"Collapse section",children:r.jsx("svg",{className:_("w-5 h-5 transition-transform",l&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),(!n||!l)&&r.jsx("div",{className:"p-4 space-y-4",children:t})]})},Cs=({children:s,submitLabel:e="Submit",submitVariant:t="primary",cancelLabel:a="Cancel",onCancel:n,showCancel:i=!1,loading:l,disabled:o,className:c,align:d="right"})=>{const{isLoading:u,isValid:x}=ks(),p=o||l||u||!x,m={left:"justify-start",center:"justify-center",right:"justify-end"};return r.jsxs("div",{className:_("flex items-center space-x-3",m[d],c),children:[s,i&&r.jsx(X,{type:"button",variant:"outline",onClick:n,disabled:u,children:a}),r.jsx(X,{type:"submit",variant:t,loading:l||u,disabled:p,children:e})]})};function $s({name:s,rules:e,shouldUnregister:t,defaultValue:a,...n}){const{control:i}=se(),{field:{onChange:l,onBlur:o,value:c,ref:d},fieldState:{error:u}}=ae({name:s,control:i,rules:e,shouldUnregister:t,defaultValue:a});return r.jsx(Tt,{...n,ref:d,value:c||"",onChange:l,onBlur:o,error:u==null?void 0:u.message})}function Ts({name:s,rules:e,shouldUnregister:t,defaultValue:a,clearable:n,...i}){const{control:l}=se(),{field:{onChange:o,onBlur:c,value:d,ref:u},fieldState:{error:x}}=ae({name:s,control:l,rules:e,shouldUnregister:t,defaultValue:a}),p=()=>{o("")};return r.jsx(Et,{...i,ref:u,value:d||"",onChange:m=>o(m.target.value),onBlur:c,onClear:n?p:void 0,clearable:n,error:x==null?void 0:x.message})}function Es({name:s,rules:e,shouldUnregister:t,defaultValue:a,...n}){const{control:i}=se(),{field:{onChange:l,onBlur:o,value:c,ref:d},fieldState:{error:u}}=ae({name:s,control:i,rules:e,shouldUnregister:t,defaultValue:a});return r.jsx(_t,{...n,ref:d,value:c||"",onChange:l,onBlur:o,error:u==null?void 0:u.message})}function _s({name:s,rules:e,shouldUnregister:t,defaultValue:a=!1,...n}){const{control:i}=se(),{field:{onChange:l,onBlur:o,value:c,ref:d},fieldState:{error:u}}=ae({name:s,control:i,rules:e,shouldUnregister:t,defaultValue:a});return r.jsxs("div",{children:[r.jsx(Ot,{...n,ref:d,checked:!!c,onChange:x=>l(x.target.checked),onBlur:o}),u&&r.jsx("p",{className:"text-sm text-red-600 mt-1",role:"alert",children:u.message})]})}function Os({name:s,rules:e,shouldUnregister:t,defaultValue:a,...n}){const{control:i}=se(),{field:{onChange:l,onBlur:o,value:c,ref:d},fieldState:{error:u}}=ae({name:s,control:i,rules:e,shouldUnregister:t,defaultValue:a});return r.jsx(At,{...n,ref:d,name:s,value:c||"",onChange:l,error:u==null?void 0:u.message})}function Ds({name:s,rules:e,shouldUnregister:t,defaultValue:a=[],...n}){const{control:i}=se(),{field:{onChange:l,onBlur:o,value:c,ref:d},fieldState:{error:u}}=ae({name:s,control:i,rules:e,shouldUnregister:t,defaultValue:a}),x=p=>{l(p),o()};return r.jsx(ws,{...n,value:c||[],onChange:x,error:u==null?void 0:u.message})}function As({name:s,rules:e,shouldUnregister:t,defaultValue:a=[],...n}){const{control:i}=se(),{field:{onChange:l,onBlur:o,value:c,ref:d},fieldState:{error:u}}=ae({name:s,control:i,rules:e,shouldUnregister:t,defaultValue:a}),x=Array.isArray(c)?c:[],p=m=>{const b=x.includes(m)?x.filter(f=>f!==m):[...x,m];l(b)};return r.jsxs("div",{className:"space-y-1",children:[n.label&&r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n.label}),r.jsx("div",{className:"border border-gray-300 rounded-md p-2 min-h-[2.5rem] focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[x.map(m=>{const b=n.options.find(f=>f.value===m);return b?r.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:[b.label,r.jsx("button",{type:"button",onClick:()=>p(m.toString()),className:"ml-1 text-blue-600 hover:text-blue-800","aria-label":`Remove ${b.label}`,children:"×"})]},m):null}),r.jsxs("select",{ref:d,multiple:!0,value:[],onChange:m=>{const b=m.target.value;b&&p(b)},onBlur:o,className:"border-none outline-none flex-1 min-w-[100px] bg-transparent",disabled:n.disabled,children:[r.jsx("option",{value:"",disabled:!0,children:n.placeholder||"Select options..."}),n.options.filter(m=>!x.includes(m.value.toString())).map(m=>r.jsx("option",{value:m.value,disabled:m.disabled,children:m.label},m.value))]})]})}),u&&r.jsx("p",{className:"text-sm text-red-600",role:"alert",children:u.message}),n.helpText&&!u&&r.jsx("p",{className:"text-sm text-gray-500",children:n.helpText})]})}const st=(s,e,t)=>{if(s&&"reportValidity"in s){const a=qe(t,e);s.setCustomValidity(a&&a.message||""),s.reportValidity()}},Rt=(s,e)=>{for(const t in e.fields){const a=e.fields[t];a&&a.ref&&"reportValidity"in a.ref?st(a.ref,t,s):a.refs&&a.refs.forEach(n=>st(n,t,s))}},Ms=(s,e)=>{e.shouldUseNativeValidation&&Rt(s,e);const t={};for(const a in s){const n=qe(e.fields,a),i=Object.assign(s[a]||{},{ref:n&&n.ref});if(qs(e.names||Object.keys(s),a)){const l=Object.assign({},qe(t,a));_e(l,"root",i),_e(t,a,l)}else _e(t,a,i)}return t},qs=(s,e)=>s.some(t=>t.startsWith(e+"."));function Rs(s,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),function(a,n,i){try{return Promise.resolve(function(l,o){try{var c=(e.context,Promise.resolve(s[t.mode==="sync"?"validateSync":"validate"](a,Object.assign({abortEarly:!1},e,{context:n}))).then(function(d){return i.shouldUseNativeValidation&&Rt({},i),{values:t.raw?a:d,errors:{}}}))}catch(d){return o(d)}return c&&c.then?c.then(void 0,o):c}(0,function(l){if(!l.inner)throw l;return{values:{},errors:Ms((o=l,c=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(o.inner||[]).reduce(function(d,u){if(d[u.path]||(d[u.path]={message:u.message,type:u.type}),c){var x=d[u.path].types,p=x&&x[u.type];d[u.path]=ir(u.path,c,d,u.type,p?[].concat(p,u.message):u.message)}return d},{})),i)};var o,c}))}catch(l){return Promise.reject(l)}}}function ne(s){this._maxSize=s,this.clear()}ne.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ne.prototype.get=function(s){return this._values[s]};ne.prototype.set=function(s,e){return this._size>=this._maxSize&&this.clear(),s in this._values||this._size++,this._values[s]=e};var Ps=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Pt=/^\d+$/,zs=/^\d/,Is=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Ls=/^\s*(['"]?)(.*?)(\1)\s*$/,Ge=512,at=new ne(Ge),nt=new ne(Ge),it=new ne(Ge),te={Cache:ne,split:Ue,normalizePath:De,setter:function(s){var e=De(s);return nt.get(s)||nt.set(s,function(a,n){for(var i=0,l=e.length,o=a;i<l-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return a;o=o[e[i++]]}o[e[i]]=n})},getter:function(s,e){var t=De(s);return it.get(s)||it.set(s,function(n){for(var i=0,l=t.length;i<l;)if(n!=null||!e)n=n[t[i++]];else return;return n})},join:function(s){return s.reduce(function(e,t){return e+(Je(t)||Pt.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(s,e,t){Us(Array.isArray(s)?s:Ue(s),e,t)}};function De(s){return at.get(s)||at.set(s,Ue(s).map(function(e){return e.replace(Ls,"$2")}))}function Ue(s){return s.match(Ps)||[""]}function Us(s,e,t){var a=s.length,n,i,l,o;for(i=0;i<a;i++)n=s[i],n&&(Ws(n)&&(n='"'+n+'"'),o=Je(n),l=!o&&/^\d+$/.test(n),e.call(t,n,o,l,i,s))}function Je(s){return typeof s=="string"&&s&&["'",'"'].indexOf(s.charAt(0))!==-1}function Bs(s){return s.match(zs)&&!s.match(Pt)}function Vs(s){return Is.test(s)}function Ws(s){return!Je(s)&&(Bs(s)||Vs(s))}const Hs=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Ce=s=>s.match(Hs)||[],$e=s=>s[0].toUpperCase()+s.slice(1),Ye=(s,e)=>Ce(s).join(e).toLowerCase(),zt=s=>Ce(s).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),Zs=s=>$e(zt(s)),Gs=s=>Ye(s,"_"),Js=s=>Ye(s,"-"),Ys=s=>$e(Ye(s," ")),Xs=s=>Ce(s).map($e).join(" ");var Ae={words:Ce,upperFirst:$e,camelCase:zt,pascalCase:Zs,snakeCase:Gs,kebabCase:Js,sentenceCase:Ys,titleCase:Xs},Xe={exports:{}};Xe.exports=function(s){return It(Ks(s),s)};Xe.exports.array=It;function It(s,e){var t=s.length,a=new Array(t),n={},i=t,l=Qs(e),o=ea(s);for(e.forEach(function(d){if(!o.has(d[0])||!o.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)n[i]||c(s[i],i,new Set);return a;function c(d,u,x){if(x.has(d)){var p;try{p=", node was:"+JSON.stringify(d)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!o.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!n[u]){n[u]=!0;var m=l.get(d)||new Set;if(m=Array.from(m),u=m.length){x.add(d);do{var b=m[--u];c(b,o.get(b),x)}while(u);x.delete(d)}a[--t]=d}}}function Ks(s){for(var e=new Set,t=0,a=s.length;t<a;t++){var n=s[t];e.add(n[0]),e.add(n[1])}return Array.from(e)}function Qs(s){for(var e=new Map,t=0,a=s.length;t<a;t++){var n=s[t];e.has(n[0])||e.set(n[0],new Set),e.has(n[1])||e.set(n[1],new Set),e.get(n[0]).add(n[1])}return e}function ea(s){for(var e=new Map,t=0,a=s.length;t<a;t++)e.set(s[t],t);return e}var ta=Xe.exports;const ra=or(ta),sa=Object.prototype.toString,aa=Error.prototype.toString,na=RegExp.prototype.toString,ia=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",la=/^Symbol\((.*)\)(.*)$/;function oa(s){return s!=+s?"NaN":s===0&&1/s<0?"-0":""+s}function lt(s,e=!1){if(s==null||s===!0||s===!1)return""+s;const t=typeof s;if(t==="number")return oa(s);if(t==="string")return e?`"${s}"`:s;if(t==="function")return"[Function "+(s.name||"anonymous")+"]";if(t==="symbol")return ia.call(s).replace(la,"Symbol($1)");const a=sa.call(s).slice(8,-1);return a==="Date"?isNaN(s.getTime())?""+s:s.toISOString(s):a==="Error"||s instanceof Error?"["+aa.call(s)+"]":a==="RegExp"?na.call(s):null}function J(s,e){let t=lt(s,e);return t!==null?t:JSON.stringify(s,function(a,n){let i=lt(this[a],e);return i!==null?i:n},2)}function Lt(s){return s==null?[]:[].concat(s)}let Ut,Bt,Vt,ca=/\$\{\s*(\w+)\s*\}/g;Ut=Symbol.toStringTag;class ot{constructor(e,t,a,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Ut]="Error",this.name="ValidationError",this.value=t,this.path=a,this.type=n,this.errors=[],this.inner=[],Lt(e).forEach(i=>{if(R.isError(i)){this.errors.push(...i.errors);const l=i.inner.length?i.inner:[i];this.inner.push(...l)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Bt=Symbol.hasInstance;Vt=Symbol.toStringTag;class R extends Error{static formatError(e,t){const a=t.label||t.path||"this";return t=Object.assign({},t,{path:a,originalPath:t.path}),typeof e=="string"?e.replace(ca,(n,i)=>J(t[i])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,a,n,i){const l=new ot(e,t,a,n);if(i)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Vt]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,R)}static[Bt](e){return ot[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let H={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:s,type:e,value:t,originalValue:a})=>{const n=a!=null&&a!==t?` (cast from the value \`${J(a,!0)}\`).`:".";return e!=="mixed"?`${s} must be a \`${e}\` type, but the final value was: \`${J(t,!0)}\``+n:`${s} must match the configured type. The validated value was: \`${J(t,!0)}\``+n}},I={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Y={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Be={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Ve={isValue:"${path} field must be ${value}"},je={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},we={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},da={notType:s=>{const{path:e,value:t,spec:a}=s,n=a.types.length;if(Array.isArray(t)){if(t.length<n)return`${e} tuple value has too few items, expected a length of ${n} but got ${t.length} for value: \`${J(t,!0)}\``;if(t.length>n)return`${e} tuple value has too many items, expected a length of ${n} but got ${t.length} for value: \`${J(t,!0)}\``}return R.formatError(H.notType,s)}};Object.assign(Object.create(null),{mixed:H,string:I,number:Y,date:Be,object:je,array:we,boolean:Ve,tuple:da});const Te=s=>s&&s.__isYupSchema__;class ke{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:a,then:n,otherwise:i}=t,l=typeof a=="function"?a:(...o)=>o.every(c=>c===a);return new ke(e,(o,c)=>{var d;let u=l(...o)?n:i;return(d=u==null?void 0:u(c))!=null?d:c})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let a=this.refs.map(i=>i.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),n=this.fn(a,e,t);if(n===void 0||n===e)return e;if(!Te(n))throw new TypeError("conditions must return a schema object");return n.resolve(t)}}const ye={context:"$",value:"."};function ua(s,e){return new Q(s,e)}class Q{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ye.context,this.isValue=this.key[0]===ye.value,this.isSibling=!this.isContext&&!this.isValue;let a=this.isContext?ye.context:this.isValue?ye.value:"";this.path=this.key.slice(a.length),this.getter=this.path&&te.getter(this.path,!0),this.map=t.map}getValue(e,t,a){let n=this.isContext?a:this.isValue?e:t;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Q.prototype.__isYupRef=!0;const W=s=>s==null;function ie(s){function e({value:t,path:a="",options:n,originalValue:i,schema:l},o,c){const{name:d,test:u,params:x,message:p,skipAbsent:m}=s;let{parent:b,context:f,abortEarly:g=l.spec.abortEarly,disableStackTrace:N=l.spec.disableStackTrace}=n;const h={value:t,parent:b,context:f};function S($={}){const M=Wt(Object.assign({value:t,originalValue:i,label:l.spec.label,path:$.path||a,spec:l.spec,disableStackTrace:$.disableStackTrace||N},x,$.params),h),U=new R(R.formatError($.message||p,M),t,M.path,$.type||d,M.disableStackTrace);return U.params=M,U}const w=g?o:c;let y={path:a,parent:b,type:d,from:n.from,createError:S,resolve($){return Ht($,h)},options:n,originalValue:i,schema:l};const j=$=>{R.isError($)?w($):$?c(null):w(S())},F=$=>{R.isError($)?w($):o($)};if(m&&W(t))return j(!0);let v;try{var D;if(v=u.call(y,t,y),typeof((D=v)==null?void 0:D.then)=="function"){if(n.sync)throw new Error(`Validation test of type: "${y.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(v).then(j,F)}}catch($){F($);return}j(v)}return e.OPTIONS=s,e}function Wt(s,e){if(!s)return s;for(const t of Object.keys(s))s[t]=Ht(s[t],e);return s}function Ht(s,e){return Q.isRef(s)?s.getValue(e.value,e.parent,e.context):s}function ma(s,e,t,a=t){let n,i,l;return e?(te.forEach(e,(o,c,d)=>{let u=c?o.slice(1,o.length-1):o;s=s.resolve({context:a,parent:n,value:t});let x=s.type==="tuple",p=d?parseInt(u,10):0;if(s.innerType||x){if(x&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(t&&p>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);n=t,t=t&&t[p],s=x?s.spec.types[p]:s.innerType}if(!d){if(!s.fields||!s.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${l} which is a type: "${s.type}")`);n=t,t=t&&t[u],s=s.fields[u]}i=u,l=c?"["+o+"]":"."+o}),{schema:s,parent:n,parentPath:i}):{parent:n,parentPath:e,schema:s}}class Se extends Set{describe(){const e=[];for(const t of this.values())e.push(Q.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const a of this.values())t.push(e(a));return t}clone(){return new Se(this.values())}merge(e,t){const a=this.clone();return e.forEach(n=>a.add(n)),t.forEach(n=>a.delete(n)),a}}function oe(s,e=new Map){if(Te(s)||!s||typeof s!="object")return s;if(e.has(s))return e.get(s);let t;if(s instanceof Date)t=new Date(s.getTime()),e.set(s,t);else if(s instanceof RegExp)t=new RegExp(s),e.set(s,t);else if(Array.isArray(s)){t=new Array(s.length),e.set(s,t);for(let a=0;a<s.length;a++)t[a]=oe(s[a],e)}else if(s instanceof Map){t=new Map,e.set(s,t);for(const[a,n]of s.entries())t.set(a,oe(n,e))}else if(s instanceof Set){t=new Set,e.set(s,t);for(const a of s)t.add(oe(a,e))}else if(s instanceof Object){t={},e.set(s,t);for(const[a,n]of Object.entries(s))t[a]=oe(n,e)}else throw Error(`Unable to clone ${s}`);return t}function ha(s){if(!(s!=null&&s.length))return;const e=[];let t="",a=!1,n=!1;for(let i=0;i<s.length;i++){const l=s[i];if(l==="["&&!n){t&&(e.push(...t.split(".").filter(Boolean)),t=""),a=!0;continue}if(l==="]"&&!n){t&&(/^\d+$/.test(t)?e.push(t):e.push(t.replace(/^"|"$/g,"")),t=""),a=!1;continue}if(l==='"'){n=!n;continue}if(l==="."&&!a&&!n){t&&(e.push(t),t="");continue}t+=l}return t&&e.push(...t.split(".").filter(Boolean)),e}function xa(s,e){const t=e?`${e}.${s.path}`:s.path;return s.errors.map(a=>({message:a,path:ha(t)}))}function Zt(s,e){var t;if(!((t=s.inner)!=null&&t.length)&&s.errors.length)return xa(s,e);const a=e?`${e}.${s.path}`:s.path;return s.inner.flatMap(n=>Zt(n,a))}class L{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Se,this._blacklist=new Se,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(H.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=oe(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let a=e(this);return this._mutate=t,a}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,a=e.clone();const n=Object.assign({},t.spec,a.spec);return a.spec=n,a.internalTests=Object.assign({},t.internalTests,a.internalTests),a._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),a._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),a.tests=t.tests,a.exclusiveTests=t.exclusiveTests,a.withMutation(i=>{e.tests.forEach(l=>{i.test(l.OPTIONS)})}),a.transforms=[...t.transforms,...a.transforms],a}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let a=t.conditions;t=t.clone(),t.conditions=[],t=a.reduce((n,i)=>i.resolve(n,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,a,n,i;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(a=e.abortEarly)!=null?a:this.spec.abortEarly,recursive:(n=e.recursive)!=null?n:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,t={}){let a=this.resolve(Object.assign({value:e},t)),n=t.assert==="ignore-optionality",i=a._cast(e,t);if(t.assert!==!1&&!a.isType(i)){if(n&&W(i))return i;let l=J(e),o=J(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${a.type}". 

attempted value: ${l} 
`+(o!==l?`result of cast: ${o}`:""))}return i}_cast(e,t){let a=e===void 0?e:this.transforms.reduce((n,i)=>i.call(this,n,e,this),e);return a===void 0&&(a=this.getDefault(t)),a}_validate(e,t={},a,n){let{path:i,originalValue:l=e,strict:o=this.spec.strict}=t,c=e;o||(c=this._cast(c,Object.assign({assert:!1},t)));let d=[];for(let u of Object.values(this.internalTests))u&&d.push(u);this.runTests({path:i,value:c,originalValue:l,options:t,tests:d},a,u=>{if(u.length)return n(u,c);this.runTests({path:i,value:c,originalValue:l,options:t,tests:this.tests},a,n)})}runTests(e,t,a){let n=!1,{tests:i,value:l,originalValue:o,path:c,options:d}=e,u=f=>{n||(n=!0,t(f,l))},x=f=>{n||(n=!0,a(f,l))},p=i.length,m=[];if(!p)return x([]);let b={value:l,originalValue:o,path:c,options:d,schema:this};for(let f=0;f<i.length;f++){const g=i[f];g(b,u,function(h){h&&(Array.isArray(h)?m.push(...h):m.push(h)),--p<=0&&x(m)})}}asNestedTest({key:e,index:t,parent:a,parentPath:n,originalParent:i,options:l}){const o=e??t;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof o=="number";let d=a[o];const u=Object.assign({},l,{strict:!0,parent:a,value:d,originalValue:i[o],key:void 0,[c?"index":"key"]:o,path:c||o.includes(".")?`${n||""}[${c?o:`"${o}"`}]`:(n?`${n}.`:"")+e});return(x,p,m)=>this.resolve(u)._validate(d,u,p,m)}validate(e,t){var a;let n=this.resolve(Object.assign({},t,{value:e})),i=(a=t==null?void 0:t.disableStackTrace)!=null?a:n.spec.disableStackTrace;return new Promise((l,o)=>n._validate(e,t,(c,d)=>{R.isError(c)&&(c.value=d),o(c)},(c,d)=>{c.length?o(new R(c,d,void 0,void 0,i)):l(d)}))}validateSync(e,t){var a;let n=this.resolve(Object.assign({},t,{value:e})),i,l=(a=t==null?void 0:t.disableStackTrace)!=null?a:n.spec.disableStackTrace;return n._validate(e,Object.assign({},t,{sync:!0}),(o,c)=>{throw R.isError(o)&&(o.value=c),o},(o,c)=>{if(o.length)throw new R(o,e,void 0,void 0,l);i=c}),i}isValid(e,t){return this.validate(e,t).then(()=>!0,a=>{if(R.isError(a))return!1;throw a})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(a){if(R.isError(a))return!1;throw a}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):oe(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const a=this.clone({nullable:e});return a.internalTests.nullable=ie({message:t,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),a}optionality(e,t){const a=this.clone({optional:e});return a.internalTests.optionality=ie({message:t,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),a}optional(){return this.optionality(!0)}defined(e=H.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=H.notNull){return this.nullability(!1,e)}required(e=H.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=H.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let a=this.clone(),n=ie(t),i=t.exclusive||t.name&&a.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(a.exclusiveTests[t.name]=!!t.exclusive),a.tests=a.tests.filter(l=>!(l.OPTIONS.name===t.name&&(i||l.OPTIONS.test===n.OPTIONS.test))),a.tests.push(n),a}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let a=this.clone(),n=Lt(e).map(i=>new Q(i));return n.forEach(i=>{i.isSibling&&a.deps.push(i.key)}),a.conditions.push(typeof t=="function"?new ke(n,t):ke.fromOptions(n,t)),a}typeError(e){let t=this.clone();return t.internalTests.typeError=ie({message:e,name:"typeError",skipAbsent:!0,test(a){return this.schema._typeCheck(a)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=H.oneOf){let a=this.clone();return e.forEach(n=>{a._whitelist.add(n),a._blacklist.delete(n)}),a.internalTests.whiteList=ie({message:t,name:"oneOf",skipAbsent:!0,test(n){let i=this.schema._whitelist,l=i.resolveAll(this.resolve);return l.includes(n)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:l}})}}),a}notOneOf(e,t=H.notOneOf){let a=this.clone();return e.forEach(n=>{a._blacklist.add(n),a._whitelist.delete(n)}),a.internalTests.blacklist=ie({message:t,name:"notOneOf",test(n){let i=this.schema._blacklist,l=i.resolveAll(this.resolve);return l.includes(n)?this.createError({params:{values:Array.from(i).join(", "),resolved:l}}):!0}}),a}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:a,meta:n,optional:i,nullable:l}=t.spec;return{meta:n,label:a,optional:i,nullable:l,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((c,d,u)=>u.findIndex(x=>x.OPTIONS.name===c.OPTIONS.name)===d).map(c=>{const d=c.OPTIONS.params&&e?Wt(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:d}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(a){try{return{value:await e.validate(a,{abortEarly:!1})}}catch(n){if(n instanceof R)return{issues:Zt(n)};throw n}}}}}L.prototype.__isYupSchema__=!0;for(const s of["validate","validateSync"])L.prototype[`${s}At`]=function(e,t,a={}){const{parent:n,parentPath:i,schema:l}=ma(this,e,t,a.context);return l[s](n&&n[i],Object.assign({},a,{parent:n,path:e}))};for(const s of["equals","is"])L.prototype[s]=L.prototype.oneOf;for(const s of["not","nope"])L.prototype[s]=L.prototype.notOneOf;const pa=()=>!0;function ee(s){return new Gt(s)}class Gt extends L{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:pa},e))}}ee.prototype=Gt.prototype;function Fe(){return new Jt}class Jt extends L{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,t,a)=>{if(a.spec.coerce&&!a.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Ve.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(t){return W(t)||t===!0}})}isFalse(e=Ve.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(t){return W(t)||t===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Fe.prototype=Jt.prototype;const fa=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ga(s){const e=We(s);if(!e)return Date.parse?Date.parse(s):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function We(s){var e,t;const a=fa.exec(s);return a?{year:G(a[1]),month:G(a[2],1)-1,day:G(a[3],1),hour:G(a[4]),minute:G(a[5]),second:G(a[6]),millisecond:a[7]?G(a[7].substring(0,3)):0,precision:(e=(t=a[7])==null?void 0:t.length)!=null?e:void 0,z:a[8]||void 0,plusMinus:a[9]||void 0,hourOffset:G(a[10]),minuteOffset:G(a[11])}:null}function G(s,e=0){return Number(s)||e}let ba=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ya=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,va=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ja="^\\d{4}-\\d{2}-\\d{2}",wa="\\d{2}:\\d{2}:\\d{2}",Na="(([+-]\\d{2}(:?\\d{2})?)|Z)",ka=new RegExp(`${ja}T${wa}(\\.\\d+)?${Na}$`),Sa=s=>W(s)||s===s.trim(),Fa={}.toString();function A(){return new Yt}class Yt extends L{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,a)=>{if(!a.spec.coerce||a.isType(e)||Array.isArray(e))return e;const n=e!=null&&e.toString?e.toString():e;return n===Fa?e:n})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||H.required,name:"required",skipAbsent:!0,test:a=>!!a.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=I.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(a){return a.length===this.resolve(e)}})}min(e,t=I.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a.length>=this.resolve(e)}})}max(e,t=I.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(a){return a.length<=this.resolve(e)}})}matches(e,t){let a=!1,n,i;return t&&(typeof t=="object"?{excludeEmptyString:a=!1,message:n,name:i}=t:n=t),this.test({name:i||"matches",message:n||I.matches,params:{regex:e},skipAbsent:!0,test:l=>l===""&&a||l.search(e)!==-1})}email(e=I.email){return this.matches(ba,{name:"email",message:e,excludeEmptyString:!0})}url(e=I.url){return this.matches(ya,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=I.uuid){return this.matches(va,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",a,n;return e&&(typeof e=="object"?{message:t="",allowOffset:a=!1,precision:n=void 0}=e:t=e),this.matches(ka,{name:"datetime",message:t||I.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||I.datetime_offset,params:{allowOffset:a},skipAbsent:!0,test:i=>{if(!i||a)return!0;const l=We(i);return l?!!l.z:!1}}).test({name:"datetime_precision",message:t||I.datetime_precision,params:{precision:n},skipAbsent:!0,test:i=>{if(!i||n==null)return!0;const l=We(i);return l?l.precision===n:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=I.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:Sa})}lowercase(e=I.lowercase){return this.transform(t=>W(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>W(t)||t===t.toLowerCase()})}uppercase(e=I.uppercase){return this.transform(t=>W(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>W(t)||t===t.toUpperCase()})}}A.prototype=Yt.prototype;let Ca=s=>s!=+s;function re(){return new Xt}class Xt extends L{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Ca(e)}}),this.withMutation(()=>{this.transform((e,t,a)=>{if(!a.spec.coerce)return e;let n=e;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return a.isType(n)||n===null?n:parseFloat(n)})})}min(e,t=Y.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(e)}})}max(e,t=Y.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(e)}})}lessThan(e,t=Y.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(a){return a<this.resolve(e)}})}moreThan(e,t=Y.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(a){return a>this.resolve(e)}})}positive(e=Y.positive){return this.moreThan(0,e)}negative(e=Y.negative){return this.lessThan(0,e)}integer(e=Y.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>W(e)?e:e|0)}round(e){var t;let a=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(a.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+a.join(", "));return this.transform(n=>W(n)?n:Math[e](n))}}re.prototype=Xt.prototype;let Kt=new Date(""),$a=s=>Object.prototype.toString.call(s)==="[object Date]";function pe(){return new fe}class fe extends L{constructor(){super({type:"date",check(e){return $a(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,a)=>!a.spec.coerce||a.isType(e)||e===null?e:(e=ga(e),isNaN(e)?fe.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let a;if(Q.isRef(e))a=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);a=n}return a}min(e,t=Be.min){let a=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(a)}})}max(e,t=Be.max){let a=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(a)}})}}fe.INVALID_DATE=Kt;pe.prototype=fe.prototype;pe.INVALID_DATE=Kt;function Ta(s,e=[]){let t=[],a=new Set,n=new Set(e.map(([l,o])=>`${l}-${o}`));function i(l,o){let c=te.split(l)[0];a.add(c),n.has(`${o}-${c}`)||t.push([o,c])}for(const l of Object.keys(s)){let o=s[l];a.add(l),Q.isRef(o)&&o.isSibling?i(o.path,l):Te(o)&&"deps"in o&&o.deps.forEach(c=>i(c,l))}return ra.array(Array.from(a),t).reverse()}function ct(s,e){let t=1/0;return s.some((a,n)=>{var i;if((i=e.path)!=null&&i.includes(a))return t=n,!0}),t}function Qt(s){return(e,t)=>ct(s,e)-ct(s,t)}const er=(s,e,t)=>{if(typeof s!="string")return s;let a=s;try{a=JSON.parse(s)}catch{}return t.isType(a)?a:s};function Ne(s){if("fields"in s){const e={};for(const[t,a]of Object.entries(s.fields))e[t]=Ne(a);return s.setFields(e)}if(s.type==="array"){const e=s.optional();return e.innerType&&(e.innerType=Ne(e.innerType)),e}return s.type==="tuple"?s.optional().clone({types:s.spec.types.map(Ne)}):"optional"in s?s.optional():s}const Ea=(s,e)=>{const t=[...te.normalizePath(e)];if(t.length===1)return t[0]in s;let a=t.pop(),n=te.getter(te.join(t),!0)(s);return!!(n&&a in n)};let dt=s=>Object.prototype.toString.call(s)==="[object Object]";function ut(s,e){let t=Object.keys(s.fields);return Object.keys(e).filter(a=>t.indexOf(a)===-1)}const _a=Qt([]);function V(s){return new tr(s)}class tr extends L{constructor(e){super({type:"object",check(t){return dt(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=_a,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var a;let n=super._cast(e,t);if(n===void 0)return this.getDefault(t);if(!this._typeCheck(n))return n;let i=this.fields,l=(a=t.stripUnknown)!=null?a:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(n).filter(x=>!this._nodes.includes(x))),c={},d=Object.assign({},t,{parent:c,__validating:t.__validating||!1}),u=!1;for(const x of o){let p=i[x],m=x in n;if(p){let b,f=n[x];d.path=(t.path?`${t.path}.`:"")+x,p=p.resolve({value:f,context:t.context,parent:c});let g=p instanceof L?p.spec:void 0,N=g==null?void 0:g.strict;if(g!=null&&g.strip){u=u||x in n;continue}b=!t.__validating||!N?p.cast(n[x],d):n[x],b!==void 0&&(c[x]=b)}else m&&!l&&(c[x]=n[x]);(m!==x in c||c[x]!==n[x])&&(u=!0)}return u?c:n}_validate(e,t={},a,n){let{from:i=[],originalValue:l=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:l},...i],t.__validating=!0,t.originalValue=l,super._validate(e,t,a,(c,d)=>{if(!o||!dt(d)){n(c,d);return}l=l||d;let u=[];for(let x of this._nodes){let p=this.fields[x];!p||Q.isRef(p)||u.push(p.asNestedTest({options:t,key:x,parent:d,parentPath:t.path,originalParent:l}))}this.runTests({tests:u,value:d,originalValue:l,options:t},a,x=>{n(x.sort(this._sortErrors).concat(c),d)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),a=t.fields;for(let[n,i]of Object.entries(this.fields)){const l=a[n];a[n]=l===void 0?i:l}return t.withMutation(n=>n.setFields(a,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(a=>{var n;const i=this.fields[a];let l=e;(n=l)!=null&&n.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[a]})),t[a]=i&&"getDefault"in i?i.getDefault(l):void 0}),t}setFields(e,t){let a=this.clone();return a.fields=e,a._nodes=Ta(e,t),a._sortErrors=Qt(Object.keys(e)),t&&(a._excludedEdges=t),a}shape(e,t=[]){return this.clone().withMutation(a=>{let n=a._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),n=[...a._excludedEdges,...t]),a.setFields(Object.assign(a.fields,e),n)})}partial(){const e={};for(const[t,a]of Object.entries(this.fields))e[t]="optional"in a&&a.optional instanceof Function?a.optional():a;return this.setFields(e)}deepPartial(){return Ne(this)}pick(e){const t={};for(const a of e)this.fields[a]&&(t[a]=this.fields[a]);return this.setFields(t,this._excludedEdges.filter(([a,n])=>e.includes(a)&&e.includes(n)))}omit(e){const t=[];for(const a of Object.keys(this.fields))e.includes(a)||t.push(a);return this.pick(t)}from(e,t,a){let n=te.getter(e,!0);return this.transform(i=>{if(!i)return i;let l=i;return Ea(i,e)&&(l=Object.assign({},i),a||delete l[e],l[t]=n(i)),l})}json(){return this.transform(er)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||je.exact,test(t){if(t==null)return!0;const a=ut(this.schema,t);return a.length===0||this.createError({params:{properties:a.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=je.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let a=this.test({name:"noUnknown",exclusive:!0,message:t,test(n){if(n==null)return!0;const i=ut(this.schema,n);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return a.spec.noUnknown=e,a}unknown(e=!0,t=je.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const a={};for(const n of Object.keys(t))a[e(n)]=t[n];return a})}camelCase(){return this.transformKeys(Ae.camelCase)}snakeCase(){return this.transformKeys(Ae.snakeCase)}constantCase(){return this.transformKeys(e=>Ae.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),a=super.describe(e);a.fields={};for(const[i,l]of Object.entries(t.fields)){var n;let o=e;(n=o)!=null&&n.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),a.fields[i]=l.describe(o)}return a}}V.prototype=tr.prototype;function Ee(s){return new rr(s)}class rr extends L{constructor(e){super({type:"array",spec:{types:e},check(t){return Array.isArray(t)}}),this.innerType=void 0,this.innerType=e}_cast(e,t){const a=super._cast(e,t);if(!this._typeCheck(a)||!this.innerType)return a;let n=!1;const i=a.map((l,o)=>{const c=this.innerType.cast(l,Object.assign({},t,{path:`${t.path||""}[${o}]`}));return c!==l&&(n=!0),c});return n?i:a}_validate(e,t={},a,n){var i;let l=this.innerType,o=(i=t.recursive)!=null?i:this.spec.recursive;t.originalValue!=null&&t.originalValue,super._validate(e,t,a,(c,d)=>{var u;if(!o||!l||!this._typeCheck(d)){n(c,d);return}let x=new Array(d.length);for(let m=0;m<d.length;m++){var p;x[m]=l.asNestedTest({options:t,index:m,parent:d,parentPath:t.path,originalParent:(p=t.originalValue)!=null?p:e})}this.runTests({value:d,tests:x,originalValue:(u=t.originalValue)!=null?u:e,options:t},a,m=>n(m.concat(c),d))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(er)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!Te(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+J(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=we.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(a){return a.length===this.resolve(e)}})}min(e,t){return t=t||we.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a.length>=this.resolve(e)}})}max(e,t){return t=t||we.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:t==null?[]:[].concat(t))}compact(e){let t=e?(a,n,i)=>!e(a,n,i):a=>!!a;return this.transform(a=>a!=null?a.filter(t):a)}describe(e){const t=(e?this.resolve(e):this).clone(),a=super.describe(e);if(t.innerType){var n;let i=e;(n=i)!=null&&n.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),a.innerType=t.innerType.describe(i)}return a}}Ee.prototype=rr.prototype;const Oa=({config:s,initialData:e={},className:t})=>{var b,f,g,N,h,S,w;const a=T.useMemo(()=>{const y={},j=F=>{F.forEach(k=>{var D,$,M,U,P,C;let v=ee();switch(k.type){case"text":case"password":case"tel":v=A(),(D=k.validation)!=null&&D.minLength&&(v=v.min(k.validation.minLength)),($=k.validation)!=null&&$.maxLength&&(v=v.max(k.validation.maxLength)),(M=k.validation)!=null&&M.pattern&&(v=v.matches(new RegExp(k.validation.pattern)));break;case"email":v=A().email("Please enter a valid email address");break;case"url":v=A().url("Please enter a valid URL");break;case"number":v=re(),((U=k.validation)==null?void 0:U.min)!==void 0&&(v=v.min(Number(k.validation.min))),((P=k.validation)==null?void 0:P.max)!==void 0&&(v=v.max(Number(k.validation.max)));break;case"checkbox":v=Fe(),k.required&&(v=v.oneOf([!0],`${k.label||k.name} must be checked`));break;case"select":case"radio":v=A();break;case"multiselect":v=Ee(),k.required&&(v=v.min(1,"Please select at least one option"));break;case"file":v=ee();break;case"date":case"time":case"datetime-local":v=pe();break}k.required&&k.type!=="checkbox"&&(v=v.required(`${k.label||k.name} is required`)),(C=k.validation)!=null&&C.custom&&(v=v.test("custom","Validation failed",k.validation.custom)),y[k.name]=v})};return s.sections&&s.sections.forEach(F=>j(F.fields)),s.fields&&j(s.fields),V(y)},[s]),n=He({resolver:Rs(a),defaultValues:e,mode:s.validation==="all"?"all":s.validation==="onChange"?"onChange":s.validation==="onBlur"?"onBlur":"onSubmit"}),{watch:i}=n,l=i(),o=T.useCallback(y=>{if(!y.conditional)return!0;const{field:j,operator:F,value:k}=y.conditional,v=l[j];switch(F){case"equals":return v===k;case"not_equals":return v!==k;case"contains":return Array.isArray(v)?v.includes(k):String(v).includes(String(k));case"greater_than":return Number(v)>Number(k);case"less_than":return Number(v)<Number(k);default:return!0}},[l]),c=T.useCallback(y=>{if(!y.conditional)return!0;const{field:j,operator:F,value:k}=y.conditional,v=l[j];switch(F){case"equals":return v===k;case"not_equals":return v!==k;case"contains":return Array.isArray(v)?v.includes(k):String(v).includes(String(k));default:return!0}},[l]),d=T.useCallback(y=>{var F;if(!o(y))return null;const j={name:y.name,label:y.label,disabled:y.disabled,rules:{required:y.required},className:_(y.className,y.grid&&`col-span-${y.grid.colSpan||1}`,((F=y.grid)==null?void 0:F.order)&&`order-${y.grid.order}`)};switch(y.type){case"text":case"email":case"password":case"number":case"url":case"tel":const k=y;return r.jsx($s,{...j,type:k.type,placeholder:k.placeholder,leftIcon:k.leftIcon,rightIcon:k.rightIcon,helpText:k.description});case"textarea":const v=y;return r.jsx(Es,{...j,placeholder:v.placeholder,helpText:v.description,autoResize:v.autoResize,showCharacterCount:v.showCharacterCount,resize:v.resize,minRows:v.rows});case"select":const D=y;return r.jsx(Ts,{...j,placeholder:D.placeholder,options:Array.isArray(D.options)?D.options:[],helpText:D.description,clearable:D.clearable,loading:D.loading});case"multiselect":const $=y;return r.jsx(As,{...j,placeholder:$.placeholder,options:Array.isArray($.options)?$.options:[],helpText:$.description});case"checkbox":const M=y;return r.jsx(_s,{...j,description:M.description,variant:M.variant});case"radio":const U=y;return r.jsx(Os,{...j,description:U.description,options:U.options,orientation:U.orientation});case"file":const P=y;return r.jsx(Ds,{...j,description:P.description,accept:P.accept,multiple:P.multiple,maxSize:P.maxSize,maxFiles:P.maxFiles,showPreview:P.showPreview,onUpload:P.onUpload});default:return null}},[o]),u=async y=>{var j;try{await((j=s.onSubmit)==null?void 0:j.call(s,y))}catch(F){console.error("Form submission failed:",F)}},x=n.handleSubmit(u),p=s.layout==="grid"?s.columns||2:1,m=s.layout==="grid"?`grid grid-cols-1 md:grid-cols-${p} gap-4`:"";return r.jsxs("div",{className:_("dynamic-form",t),children:[s.title&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s.title}),s.description&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]}),r.jsxs(Ss,{form:n,onSubmit:x,layout:s.layout,columns:s.columns,spacing:s.spacing,className:"space-y-6",children:[s.sections?s.sections.map(y=>c(y)?r.jsx(Fs,{title:y.title,description:y.description,collapsible:y.collapsible,defaultCollapsed:y.defaultCollapsed,children:r.jsx("div",{className:m,children:y.fields.map(j=>r.jsx("div",{children:d(j)},j.id))})},y.id):null):r.jsx("div",{className:m,children:(b=s.fields)==null?void 0:b.map(y=>r.jsx("div",{children:d(y)},y.id))}),r.jsx(Cs,{submitLabel:(f=s.submitButton)==null?void 0:f.label,submitVariant:(g=s.submitButton)==null?void 0:g.variant,loading:(N=s.submitButton)==null?void 0:N.loading,showCancel:(h=s.cancelButton)==null?void 0:h.show,cancelLabel:(S=s.cancelButton)==null?void 0:S.label,onCancel:(w=s.cancelButton)==null?void 0:w.onCancel})]})]})},Da={text:{label:"Text Input",icon:le,description:"Single line text input",category:"basic",defaultConfig:{placeholder:"Enter text..."}},email:{label:"Email",icon:ft,description:"Email address input with validation",category:"basic",defaultConfig:{placeholder:"user@example.com"}},password:{label:"Password",icon:le,description:"Password input field",category:"basic",defaultConfig:{placeholder:"Enter password..."}},number:{label:"Number",icon:gt,description:"Numeric input field",category:"basic",defaultConfig:{placeholder:"0"}},url:{label:"URL",icon:le,description:"URL input with validation",category:"basic",defaultConfig:{placeholder:"https://example.com"}},tel:{label:"Phone",icon:le,description:"Telephone number input",category:"basic",defaultConfig:{placeholder:"+1 (555) 000-0000"}},textarea:{label:"Long Text",icon:Nt,description:"Multi-line text input",category:"basic",defaultConfig:{placeholder:"Enter your text here...",rows:4}},select:{label:"Dropdown",icon:et,description:"Single selection dropdown",category:"choice",defaultConfig:{options:[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}]}},multiselect:{label:"Multi-Select",icon:et,description:"Multiple selection dropdown",category:"choice",defaultConfig:{options:[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}]}},checkbox:{label:"Checkbox",icon:Re,description:"Single checkbox input",category:"choice",defaultConfig:{}},radio:{label:"Radio Group",icon:$r,description:"Single choice from multiple options",category:"choice",defaultConfig:{options:[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}]}},file:{label:"File Upload",icon:me,description:"File upload with drag & drop",category:"advanced",defaultConfig:{accept:"image/*,application/pdf",maxSize:10*1024*1024}},date:{label:"Date",icon:ue,description:"Date picker input",category:"advanced",defaultConfig:{}},time:{label:"Time",icon:ue,description:"Time picker input",category:"advanced",defaultConfig:{}},"datetime-local":{label:"Date & Time",icon:ue,description:"Date and time picker",category:"advanced",defaultConfig:{}},range:{label:"Range Slider",icon:le,description:"Numeric range input",category:"advanced",defaultConfig:{min:0,max:100,step:1}},color:{label:"Color Picker",icon:Cr,description:"Color selection input",category:"advanced",defaultConfig:{}},hidden:{label:"Hidden Field",icon:Fr,description:"Hidden input field",category:"advanced",defaultConfig:{}}},Aa=K.forwardRef(({field:s,isSelected:e,isDragging:t,dragHandleProps:a,onEdit:n,onDuplicate:i,onDelete:l,readOnly:o,...c},d)=>{const u=Da[s.type],x=u.icon;return r.jsxs("div",{ref:d,...c,className:_("relative group bg-white rounded-lg border-2 transition-colors",e?"border-blue-500 ring-2 ring-blue-200":"border-gray-200",t&&"shadow-lg","hover:border-gray-300"),children:[!o&&r.jsx("div",{...a,className:"absolute left-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity cursor-move p-1 rounded hover:bg-gray-100",children:r.jsx(Lr,{className:"w-4 h-4 text-gray-400"})}),!o&&r.jsxs("div",{className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[r.jsx("button",{onClick:n,className:"p-1 rounded hover:bg-gray-100 text-gray-500 hover:text-gray-700",title:"Edit field",children:r.jsx(he,{className:"w-4 h-4"})}),r.jsx("button",{onClick:i,className:"p-1 rounded hover:bg-gray-100 text-gray-500 hover:text-gray-700",title:"Duplicate field",children:r.jsx(vt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:l,className:"p-1 rounded hover:bg-gray-100 text-red-500 hover:text-red-700",title:"Delete field",children:r.jsx(jt,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"p-4 pt-8",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(x,{className:"w-4 h-4 text-gray-500 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:u.label}),s.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("div",{className:"text-sm text-gray-900 font-medium mb-1",children:s.label||s.name}),s.description&&r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:s.description}),r.jsx("div",{className:"mt-3 opacity-75 pointer-events-none",children:r.jsx(Oa,{config:{id:"preview",fields:[s],layout:"vertical"}})})]})]})});Aa.displayName="FormFieldBuilder";const ce={phone:/^[\+]?[1-9][\d]{0,15}$/,url:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,zipCode:/^\d{5}(-\d{4})?$/,creditCard:/^[0-9]{13,19}$/},de={maxSize:s=>e=>e?e.size<=s:!0,allowedTypes:s=>e=>e?s.some(t=>t.startsWith(".")?e.name.toLowerCase().endsWith(t.toLowerCase()):e.type.match(t.replace("*",".*"))):!0,requiredFile:s=>Array.isArray(s)?s.length>0&&s.some(e=>e.status==="success"||e.status==="pending"):s&&(s.status==="success"||s.status==="pending")},E={requiredString:A().required("This field is required"),optionalString:A().optional(),email:A().email("Please enter a valid email address").required("Email is required"),optionalEmail:A().email("Please enter a valid email address").optional(),phone:A().matches(ce.phone,"Please enter a valid phone number").required("Phone number is required"),optionalPhone:A().matches(ce.phone,"Please enter a valid phone number").optional(),url:A().matches(ce.url,"Please enter a valid URL").required("URL is required"),optionalUrl:A().matches(ce.url,"Please enter a valid URL").optional(),password:A().min(8,"Password must be at least 8 characters long").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/\d/,"Password must contain at least one number").matches(/[@$!%*?&]/,"Password must contain at least one special character").required("Password is required"),confirmPassword:(s="password")=>A().oneOf([ua(s)],"Passwords must match").required("Please confirm your password"),positiveNumber:re().positive("Must be a positive number").required("This field is required"),optionalPositiveNumber:re().positive("Must be a positive number").optional(),requiredBoolean:Fe().oneOf([!0],"This field is required").required("This field is required"),optionalBoolean:Fe().optional(),requiredArray:Ee().min(1,"Please select at least one option").required("This field is required"),futureDate:pe().min(new Date,"Date must be in the future").required("Date is required"),pastDate:pe().max(new Date,"Date must be in the past").required("Date is required"),requiredFile:ee().test("required-file","Please upload a file",de.requiredFile).required("File is required"),optionalFile:ee().optional(),imageFile:(s=5*1024*1024)=>ee().test("file-size",`File size must be less than ${mt(s)}`,de.maxSize(s)).test("file-type","Only image files are allowed",de.allowedTypes(["image/*"])).required("Image is required"),documentFile:(s=10*1024*1024)=>ee().test("file-size",`File size must be less than ${mt(s)}`,de.maxSize(s)).test("file-type","Only PDF, DOC, and DOCX files are allowed",de.allowedTypes([".pdf",".doc",".docx"])).required("Document is required")};V({firstName:E.requiredString.min(2,"First name must be at least 2 characters").max(50,"First name must be less than 50 characters"),lastName:E.requiredString.min(2,"Last name must be at least 2 characters").max(50,"Last name must be less than 50 characters"),email:E.email,phone:E.optionalPhone,password:E.password,confirmPassword:E.confirmPassword(),terms:E.requiredBoolean,newsletter:E.optionalBoolean.default(!1)}),V({firstName:E.requiredString,lastName:E.requiredString,email:E.email,phone:E.optionalPhone,bio:A().max(500,"Bio must be less than 500 characters").optional(),website:E.optionalUrl,avatar:E.optionalFile}),V({name:E.requiredString.min(2,"Name must be at least 2 characters"),email:E.email,subject:E.requiredString.max(100,"Subject must be less than 100 characters"),message:E.requiredString.min(10,"Message must be at least 10 characters").max(1e3,"Message must be less than 1000 characters"),urgency:A().oneOf(["low","medium","high"],"Invalid urgency level"),attachments:Ee().max(5,"Maximum 5 files allowed").optional()}),V({email:E.email,password:A().required("Password is required"),rememberMe:E.optionalBoolean.default(!1)}),V({email:E.email}),V({currentPassword:A().required("Current password is required"),newPassword:E.password,confirmPassword:E.confirmPassword("newPassword")}),V({street:E.requiredString,city:E.requiredString,state:E.requiredString,zipCode:A().matches(ce.zipCode,"Please enter a valid zip code").required("Zip code is required"),country:E.requiredString}),V({cardNumber:A().matches(ce.creditCard,"Please enter a valid card number").required("Card number is required"),expiryMonth:re().min(1,"Invalid month").max(12,"Invalid month").required("Expiry month is required"),expiryYear:re().min(new Date().getFullYear(),"Card has expired").required("Expiry year is required"),cvv:A().matches(/^\d{3,4}$/,"Please enter a valid CVV").required("CVV is required"),cardholderName:E.requiredString}),V({rating:re().min(1,"Please select a rating").max(5,"Invalid rating").required("Rating is required"),categories:E.requiredArray,feedback:E.requiredString.min(10,"Please provide more detailed feedback").max(2e3,"Feedback must be less than 2000 characters"),recommend:E.requiredBoolean,email:E.optionalEmail});function mt(s){if(s===0)return"0 Bytes";const e=1024,t=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,a)).toFixed(2))+" "+t[a]}class Me extends T.Component{constructor(){super(...arguments);Ke(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("ErrorBoundary caught an error:",t,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Something went wrong"}),r.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[r.jsx("p",{children:"A component failed to load. Please refresh the page or contact support if the problem persists."}),this.state.error&&r.jsxs("details",{className:"mt-2",children:[r.jsx("summary",{className:"cursor-pointer text-xs font-mono",children:"Technical details"}),r.jsx("pre",{className:"mt-1 text-xs bg-gray-100 p-2 rounded overflow-auto",children:this.state.error.message})]})]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Refresh Page"})})]})}):this.props.children}}function Ma(){const[s,e]=K.useState("form"),{createWorkflow:t,activeWorkflow:a}=vs(),{createForm:n,activeForm:i}=js();return K.useEffect(()=>{i||n({name:"sample-form",title:"Sample Form",description:"A sample form for data collection",version:"1.0.0",fields:[{id:"name",type:"text",label:"Name",required:!0,placeholder:"Enter your name"},{id:"email",type:"email",label:"Email",required:!0,placeholder:"Enter your email"}],sections:[],settings:{allowMultipleSubmissions:!1,requireAuthentication:!1,showProgressBar:!0,savePartialResponses:!0,submitButtonText:"Submit",language:"en",timezone:"UTC"},styling:{theme:"default",primaryColor:"#3b82f6",backgroundColor:"#ffffff",textColor:"#1f2937",font:"Inter"},createdBy:"demo-user"})},[i,n]),K.useEffect(()=>{s==="workflow"&&!a&&t({name:"Sample Data Collection Workflow",description:"A sample workflow for collecting supplier data",nodes:[{id:"start",type:"trigger",position:{x:100,y:100},data:{label:"Start",description:"Workflow start point"}}],edges:[]})},[s,a,t]),r.jsx(Me,{children:r.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"ConcertMaster"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Data Collection & Orchestration Platform"}),r.jsx("div",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs",children:"Bypass Mode"})]}),r.jsxs("nav",{className:"flex items-center space-x-1",children:[r.jsx(X,{variant:s==="form"?"primary":"ghost",size:"sm",onClick:()=>e("form"),children:"Form Builder ✅"}),r.jsx(X,{variant:s==="workflow"?"primary":"ghost",size:"sm",onClick:()=>e("workflow"),children:"Workflow Builder ⚠️"}),r.jsx(X,{variant:s==="visual-builder"?"primary":"ghost",size:"sm",onClick:()=>e("visual-builder"),children:"Visual Builder 🚧"})]})]})}),r.jsxs("main",{className:"flex-1 overflow-hidden",children:[s==="form"&&r.jsx(Me,{fallback:r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Form Builder Unavailable"}),r.jsx("p",{className:"text-gray-600",children:"The form builder component failed to load."})]})}),children:r.jsx(rs,{initialSchema:i||void 0,onSave:()=>{console.log("Form saved successfully")},onPreview:()=>{console.log("Form preview requested")}})}),s==="workflow"&&r.jsx(Me,{fallback:r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Workflow Builder Unavailable"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The workflow builder has some compatibility issues."}),r.jsx(X,{variant:"primary",onClick:()=>e("form"),children:"Switch to Form Builder"})]})}),children:a?r.jsx(Hr,{workflow:a,onSave:()=>{console.log("Workflow saved successfully")}}):r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-center",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Workflow..."})})})}),s==="visual-builder"&&r.jsx(os,{initialSchema:i||void 0,onSave:()=>{console.log("Visual form saved successfully")},onPreview:()=>{console.log("Visual form preview requested")}})]}),r.jsx("footer",{className:"bg-white border-t border-gray-200 px-6 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Built with React Flow, TanStack Form, and Tailwind CSS"}),r.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx("span",{className:"mr-2",children:"v1.0.0 - Temporary Bypass Mode"}),r.jsx("div",{className:"bg-yellow-100 text-yellow-700 px-2 py-1 rounded text-xs",children:"Some features temporarily disabled"})]})]})})]})})}Ie.createRoot(document.getElementById("root")).render(r.jsx(K.StrictMode,{children:r.jsx(Ma,{})}));
//# sourceMappingURL=index-CHeHuKGm.js.map
